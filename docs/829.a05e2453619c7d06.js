"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[829],{2829:(nt,j,d)=>{d.r(j),d.d(j,{OperationModule:()=>Ke});var S=d(177),l=d(2791),b=d(1174),k=d(7468),M=d(980),e=d(3953),O=d(5312),V=d(1626);let N=(()=>{class n{_HttpClient;baseUrl=O.c.baseUrl;constructor(t){this._HttpClient=t}getInspectionReqList(){return this._HttpClient.post(` ${this.baseUrl}/api/inspection-request/Index`,{})}createInspectionReq(t){return this._HttpClient.post(`${this.baseUrl}/api/inspection-request/Create`,t)}updateInspectionReq(t,s){return this._HttpClient.post(`${this.baseUrl}/api/inspection-request/Update/${t}`,s)}getInspectionReqById(t){return this._HttpClient.get(`${this.baseUrl}/api/inspection-request/GetById/${t}`)}deleteInspectionReq(t){return this._HttpClient.post(`${this.baseUrl}/api/inspection-request/Delete/${t}`,{})}static \u0275fac=function(s){return new(s||n)(e.KVO(V.Qq))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var u=d(9664),h=d(5794);let Y=(()=>{class n{_inspectionReq;cd;translate;_router;_activateRoute;_toastr;dataSource=[];selectedRow=[];columnsSchema=[{key:"RequestNumber",label:"Job Request No"},{key:"ServiceTypeName",label:"Request Type"},{key:"LocationName",label:"Location"},{key:"ProjectName",label:"Project"},{key:"AvailableDate",label:"Available Date"},{key:"EquipmentQty",label:"No of Equipment"},{key:"RequestDate",label:"Request Date"},{key:"Status",label:"Status",formatter:(t,s)=>this.formatStatus(t)}];dataList;constructor(t,s,i,r,a,m){this._inspectionReq=t,this.cd=s,this.translate=i,this._router=r,this._activateRoute=a,this._toastr=m}ngOnInit(){this.inspectionReqList()}inspectionReqList(){this._inspectionReq.getInspectionReqList().subscribe({next:t=>{this.dataSource=t,this.cd.detectChanges()},error:t=>{console.error("Error fetching inspection requests",t)},complete:()=>{console.log("Fetched inspection requests successfully")}})}navigateToEdit(t){console.log(t),t?.Id&&this._router.navigate(["edit",t.Id],{relativeTo:this._activateRoute})}onSelectedRows(t){this.selectedRow=t}deleteSelected(t){const s=t.map(i=>this._inspectionReq.deleteInspectionReq(i.Id));(0,k.p)(s).pipe((0,M.j)(()=>this.inspectionReqList())).subscribe({next:()=>{this._toastr.success("Inspection Method deleted successfully"),this.selectedRow=[],this.dataList.clearSelection(),this.cd.detectChanges()},error:i=>{this._toastr.error("Error deleting Inspection Method")}})}formatStatus(t){const s=this.getStatusLabel(t);return`<span class="badge ${this.getStatusBadgeClass(t)}" style="font-size: 0.9rem;">${s}</span>`}getStatusBadgeClass(t){switch(t){case 0:return"bg-warning text-dark";case 1:return"badge bg-success text-white";case 2:return"badge bg-danger text-white";case 3:return"badge bg-secondary text-white";default:return"bg-light text-white"}}getStatusLabel(t){switch(t){case 0:return"Pending";case 1:return"Approved";case 2:return"Rejected";case 3:return"Cancelled";default:return"Unknown"}}static \u0275fac=function(s){return new(s||n)(e.rXU(N),e.rXU(e.gRc),e.rXU(u.c$),e.rXU(l.Ix),e.rXU(l.nX),e.rXU(h.tw))};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspection-list"]],viewQuery:function(s,i){if(1&s&&e.GBs(b.q,5),2&s){let r;e.mGM(r=e.lsd())&&(i.dataList=r.first)}},decls:2,vars:2,consts:[[3,"selectedRows","rowClick","onDelete","dataSource","columnsSchema"]],template:function(s,i){1&s&&(e.j41(0,"app-data-list",0),e.bIt("selectedRows",function(a){return i.onSelectedRows(a)})("rowClick",function(a){return i.navigateToEdit(a)})("onDelete",function(a){return i.deleteSelected(a)}),e.k0s(),e.nrm(1,"router-outlet")),2&s&&e.Y8G("dataSource",i.dataSource)("columnsSchema",i.columnsSchema)},dependencies:[l.n3,b.q]})}return n})();var o=d(9417),p=d(9079),I=function(n){return n[n.Pending=0]="Pending",n[n.Approved=1]="Approved",n[n.Rejected=2]="Rejected",n[n.Cancelled=3]="Cancelled",n}(I||{}),L=d(2266),P=d(4103),$=d(6694),U=d(5751),A=d(1899),v=d(386),g=d(9298),F=d(1938),_=d(5114),J=d(4999),C=d(2242),x=d(8150),X=d(1802);const R=()=>["Id","Name"],z=()=>({width:"100%"});function H(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"RequestNumber is required")," "))}function Z(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"AvailableDate is required")," "))}function W(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"RequestDate is required")," "))}function K(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"EquipmentQty is required")," "))}function ee(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"RequestType is required")," "))}function te(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Location is required")," "))}function se(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Project is required")," "))}function ne(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Status is required")," "))}function ie(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"ItemToBeInspected is required")," "))}function oe(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Series is required")," "))}function re(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"ContactPerson is required")," "))}function ae(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"ContactPersonPhone is required")," "))}function ce(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"ContactPersonEmail is required")," "))}function de(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Notes is required")," "))}let pe=(()=>{class n{_inspectionReqService;_toastr;_destroyRef;_Localization;_serviceType;_customerService;_locationService;_projectService;data;errorMessage="";servTypeList;customerList;LocationList;ProjectList;StatusList=[];form=new o.gE({RequestNumber:new o.MJ({value:"0",disabled:!0},[o.k0.required]),ServiceTypeId:new o.MJ(0,[o.k0.required]),LocationId:new o.MJ(0,[o.k0.required]),ProjectId:new o.MJ(0,[o.k0.required]),CustomerId:new o.MJ(1,[o.k0.required]),AvailableDate:new o.MJ(new Date,[o.k0.required]),EquipmentQty:new o.MJ(0,[o.k0.required]),Status:new o.MJ(I.Pending,[o.k0.required]),ItemToBeInspected:new o.MJ("",[o.k0.required]),ContactPerson:new o.MJ("",[o.k0.required]),ContactPersonPhone:new o.MJ("",[o.k0.required]),ContactPersonEmail:new o.MJ("",[o.k0.email]),RequestDate:new o.MJ(new Date,[o.k0.required]),series:new o.MJ("",[o.k0.required]),Notes:new o.MJ("",[o.k0.required]),Tenant_ID:new o.MJ("")});constructor(t,s,i,r,a,m,f,E){this._inspectionReqService=t,this._toastr=s,this._destroyRef=i,this._Localization=r,this._serviceType=a,this._customerService=m,this._locationService=f,this._projectService=E}ngOnInit(){this.form.valueChanges.pipe((0,p.pQ)(this._destroyRef)).subscribe(),this.getservTypeList(),this.getCustomerList(),this.getLocationList(),this.getProjectList(),this.getStatusList()}getservTypeList(){this._serviceType.serviceTypeLookup().pipe((0,p.pQ)(this._destroyRef)).subscribe({next:t=>{this.servTypeList=t},error:t=>{this.errorMessage=t.message}})}getCustomerList(){this._customerService.getCustomerLookUp().pipe((0,p.pQ)(this._destroyRef)).subscribe({next:t=>{this.customerList=t},error:t=>{this.errorMessage=t.message}})}getLocationList(){this._locationService.getLocationLookUp().pipe((0,p.pQ)(this._destroyRef)).subscribe({next:t=>{this.LocationList=t},error:t=>{this.errorMessage=t.message}})}getProjectList(){this._projectService.getProjectLookUp().pipe((0,p.pQ)(this._destroyRef)).subscribe({next:t=>{this.ProjectList=t},error:t=>{this.errorMessage=t.message}})}getStatusList(){this.StatusList=Object.keys(I).filter(t=>!isNaN(Number(I[t]))).map(t=>({Id:Number(I[t]),Name:this.formatStatusName(t)}))}createInspectionReq(){if(this.form.valid){const t=this.form.getRawValue(),s={RequestNumber:t.RequestNumber||"",ServiceTypeId:t.ServiceTypeId||0,LocationId:t.LocationId||0,ProjectId:t.ProjectId||0,CustomerId:t.CustomerId||0,AvailableDate:t.AvailableDate?new Date(t.AvailableDate).toISOString():(new Date).toISOString(),EquipmentQty:t.EquipmentQty||0,Status:t.Status||I.Pending,ItemToBeInspected:t.ItemToBeInspected||"",ContactPerson:t.ContactPerson||"",ContactPersonPhone:t.ContactPersonPhone||"",ContactPersonEmail:t.ContactPersonEmail||"",RequestDate:t.RequestDate?new Date(t.RequestDate).toISOString():(new Date).toISOString(),Notes:t.Notes||"",series:t.series||"",Tenant_ID:t.Tenant_ID||""};this._inspectionReqService.createInspectionReq(s).pipe((0,p.pQ)(this._destroyRef)).subscribe({next:i=>{this.data=i,this.form.reset();const r=this._Localization.instant("INSPECTION_REQUEST.CREATE_SUCCESS");this._toastr.success(r)},error:i=>{this.errorMessage=i.message,console.log("errooooooooor",i.message);const r=this._Localization.instant("INSPECTION_REQUEST.CREATE_FAILED");this._toastr.error(r)}})}}isInvalid(t){const s=this.form.get(t);return s?.invalid&&s.touched}formatStatusName(t){switch(t){case"Pending":return"Pending";case"Approved":return"Approved";case"Rejected":return"Rejected";case"Cancelled":return"Cancelled";default:return t}}static \u0275fac=function(s){return new(s||n)(e.rXU(N),e.rXU(h.tw),e.rXU(e.abz),e.rXU(L.P),e.rXU(P.H),e.rXU($.v),e.rXU(U.N),e.rXU(A.T))};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspection-add"]],decls:92,vars:97,consts:[[3,"ngSubmit","formGroup"],[1,"d-flex","align-items-center","mb-3"],[3,"reset","isSaveDisabled","showSelected"],[1,"card","p-3","mt-3"],[1,"container-fluid","mx-4"],[1,"row"],[1,"col-md-3","mb-5"],["for","RequestNumber",1,"mb-2","d-block"],["pInputText","","type","text","id","RequestNumber","formControlName","RequestNumber",1,"w-100","mb-2"],["severity","error","size","small","variant","simple",1,"text-danger"],["for","AvailableDate",1,"mb-2","d-block"],["id","AvailableDate","formControlName","AvailableDate",1,"w-100","mb-2",3,"showIcon"],["for","RequestDate",1,"mb-2","d-block"],["id","RequestDate","formControlName","RequestDate",1,"w-100","mb-2",3,"showIcon"],["for","EquipmentQty",1,"mb-2","d-block"],["inputId","EquipmentQty","formControlName","EquipmentQty",1,"w-100","mb-2"],[1,"col-md-4","mb-5"],["for","servTypeList",1,"mb-2","d-block"],["formControlName","ServiceTypeId",1,"w-100","mb-2",3,"data","displayField","searchFields","valueField","lookupData","readonly","validStyle"],["for","LocationList",1,"mb-2","d-block"],["formControlName","LocationId",1,"w-100","mb-2",3,"data","displayField","searchFields","valueField","lookupData","readonly","validStyle"],["for","ProjectList",1,"mb-2","d-block"],["formControlName","ProjectId",1,"w-100","mb-2",3,"data","displayField","searchFields","valueField","lookupData","readonly","validStyle"],["for","StatusList",1,"mb-2","d-block"],["optionLabel","Name","optionValue","Id","formControlName","Status",3,"options","filter","placeholder","showClear"],["for","ItemToBeInspected",1,"mb-2","d-block"],["pInputText","","type","text","id","ItemToBeInspected","formControlName","ItemToBeInspected",1,"w-100","mb-2"],["for","series",1,"mb-2","d-block"],["pInputText","","type","text","id","series","formControlName","series",1,"w-100","mb-2"],["for","ContactPerson",1,"mb-2","d-block"],["pInputText","","type","text","id","ContactPerson","formControlName","ContactPerson",1,"w-100","mb-2"],["for","ContactPersonPhone",1,"mb-2","d-block"],["pInputText","","type","text","id","ContactPersonPhone","formControlName","ContactPersonPhone",1,"w-100","mb-2"],["for","ContactPersonEmail",1,"mb-2","d-block"],["pInputText","","type","email","id","ContactPersonEmail","formControlName","ContactPersonEmail",1,"w-100","mb-2"],[1,"col-md-12"],["for","Notes",1,"mb-2","d-block"],["pInputText","","type","text","id","Notes","formControlName","Notes",1,"w-100","mb-2"]],template:function(s,i){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return i.createInspectionReq()}),e.j41(1,"div",1)(2,"app-submit-btns",2),e.bIt("reset",function(){return i.form.reset()}),e.k0s()(),e.j41(3,"div",3),e.nrm(4,"app-breadcrump"),e.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",8),e.DNE(12,H,3,3,"p-message",9),e.k0s(),e.j41(13,"div",6)(14,"label",10),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"p-datePicker",11),e.DNE(18,Z,3,3,"p-message",9),e.k0s(),e.j41(19,"div",6)(20,"label",12),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"p-datePicker",13),e.DNE(24,W,3,3,"p-message",9),e.k0s(),e.j41(25,"div",6)(26,"label",14),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"p-inputnumber",15),e.DNE(30,K,3,3,"p-message",9),e.k0s(),e.j41(31,"div",16)(32,"label",17),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.nrm(35,"app-auto-complete",18),e.DNE(36,ee,3,3,"p-message",9),e.k0s(),e.j41(37,"div",16)(38,"label",19),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.nrm(41,"app-auto-complete",20),e.DNE(42,te,3,3,"p-message",9),e.k0s(),e.j41(43,"div",16)(44,"label",21),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.nrm(47,"app-auto-complete",22),e.DNE(48,se,3,3,"p-message",9),e.k0s(),e.j41(49,"div",16)(50,"label",23),e.EFF(51),e.nI1(52,"translate"),e.k0s(),e.nrm(53,"p-dropdown",24),e.nI1(54,"translate"),e.DNE(55,ne,3,3,"p-message",9),e.k0s(),e.j41(56,"div",16)(57,"label",25),e.EFF(58),e.nI1(59,"translate"),e.k0s(),e.nrm(60,"input",26),e.DNE(61,ie,3,3,"p-message",9),e.k0s(),e.j41(62,"div",16)(63,"label",27),e.EFF(64),e.nI1(65,"translate"),e.k0s(),e.nrm(66,"input",28),e.DNE(67,oe,3,3,"p-message",9),e.k0s(),e.j41(68,"div",16)(69,"label",29),e.EFF(70),e.nI1(71,"translate"),e.k0s(),e.nrm(72,"input",30),e.DNE(73,re,3,3,"p-message",9),e.k0s(),e.j41(74,"div",16)(75,"label",31),e.EFF(76),e.nI1(77,"translate"),e.k0s(),e.nrm(78,"input",32),e.DNE(79,ae,3,3,"p-message",9),e.k0s(),e.j41(80,"div",16)(81,"label",33),e.EFF(82),e.nI1(83,"translate"),e.k0s(),e.nrm(84,"input",34),e.DNE(85,ce,3,3,"p-message",9),e.k0s(),e.j41(86,"div",35)(87,"label",36),e.EFF(88),e.nI1(89,"translate"),e.k0s(),e.nrm(90,"input",37),e.DNE(91,de,3,3,"p-message",9),e.k0s()()()()()),2&s&&(e.Y8G("formGroup",i.form),e.R7$(2),e.Y8G("isSaveDisabled",i.form.invalid)("showSelected",!1),e.R7$(7),e.JRh(e.bMT(10,60,"RequestNumber")),e.R7$(3),e.vxM(i.isInvalid("RequestNumber")?12:-1),e.R7$(3),e.JRh(e.bMT(16,62,"AvailableDate")),e.R7$(2),e.Y8G("showIcon",!0),e.R7$(),e.vxM(i.isInvalid("AvailableDate")?18:-1),e.R7$(3),e.JRh(e.bMT(22,64,"RequestDate")),e.R7$(2),e.Y8G("showIcon",!0),e.R7$(),e.vxM(i.isInvalid("RequestDate")?24:-1),e.R7$(3),e.JRh(e.bMT(28,66,"EquipmentQty")),e.R7$(3),e.vxM(i.isInvalid("EquipmentQty")?30:-1),e.R7$(3),e.JRh(e.bMT(34,68,"RequestType")),e.R7$(2),e.Y8G("data",i.servTypeList)("displayField",e.lJ4(90,R))("searchFields",e.lJ4(91,R))("valueField","Id")("lookupData",i.servTypeList)("readonly",!1)("validStyle",i.isInvalid("ServiceTypeId")?"ng-invalid":""),e.R7$(),e.vxM(i.isInvalid("ServiceTypeId")?36:-1),e.R7$(3),e.JRh(e.bMT(40,70,"LocationName ")),e.R7$(2),e.Y8G("data",i.LocationList)("displayField",e.lJ4(92,R))("searchFields",e.lJ4(93,R))("valueField","Id")("lookupData",i.LocationList)("readonly",!1)("validStyle",i.isInvalid("LocationId")?"ng-invalid":""),e.R7$(),e.vxM(i.isInvalid("LocationId")?42:-1),e.R7$(3),e.JRh(e.bMT(46,72,"Project ")),e.R7$(2),e.Y8G("data",i.ProjectList)("displayField",e.lJ4(94,R))("searchFields",e.lJ4(95,R))("valueField","Id")("lookupData",i.ProjectList)("readonly",!1)("validStyle",i.isInvalid("ProjectId")?"ng-invalid":""),e.R7$(),e.vxM(i.isInvalid("ProjectId")?48:-1),e.R7$(3),e.JRh(e.bMT(52,74,"Status ")),e.R7$(2),e.Aen(e.lJ4(96,z)),e.FS9("placeholder",e.bMT(54,76,"Select status")),e.Y8G("options",i.StatusList)("filter",!0)("showClear",!0),e.R7$(2),e.vxM(i.isInvalid("Status")?55:-1),e.R7$(3),e.JRh(e.bMT(59,78,"ItemToBeInspected")),e.R7$(3),e.vxM(i.isInvalid("ItemToBeInspected")?61:-1),e.R7$(3),e.JRh(e.bMT(65,80,"Series")),e.R7$(3),e.vxM(i.isInvalid("series")?67:-1),e.R7$(3),e.JRh(e.bMT(71,82,"ContactPerson")),e.R7$(3),e.vxM(i.isInvalid("ContactPerson")?73:-1),e.R7$(3),e.JRh(e.bMT(77,84,"ContactPersonPhone")),e.R7$(3),e.vxM(i.isInvalid("ContactPersonPhone")?79:-1),e.R7$(3),e.JRh(e.bMT(83,86,"ContactPersonEmail")),e.R7$(3),e.vxM(i.isInvalid("ContactPersonEmail")?85:-1),e.R7$(3),e.JRh(e.bMT(89,88,"Notes")),e.R7$(3),e.vxM(i.isInvalid("Notes")?91:-1))},dependencies:[v.R,o.qT,o.me,o.BC,o.cb,g.V,o.j4,o.JD,F.S,_.QB,J.lr,C.Sm,x.ms,X.YI,u.D9],changeDetection:0})}return n})();var w=d(4006);const y=()=>["Id","Name"],le=()=>({width:"100%"});function me(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"RequestNumber is required")," "))}function ue(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"AvailableDate is required")," "))}function he(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"RequestDate is required")," "))}function Ie(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"EquipmentQty is required")," "))}function ve(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"RequestType is required")," "))}function fe(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Location is required")," "))}function be(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Project is required")," "))}function ge(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Status is required")," "))}function _e(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"ItemToBeInspected is required")," "))}function Ce(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Series is required")," "))}function Re(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"ContactPerson is required")," "))}function ye(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"ContactPersonPhone is required")," "))}function Se(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"ContactPersonEmail is required")," "))}function Te(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Notes is required")," "))}let Ee=(()=>{class n{_inspectionReqService;_toastr;_destroyRef;_location;translate;_serviceType;_customerService;_locationService;_projectService;_activateRoute;_router;errorMessage="";data;inspectionId;servTypeList;customerList;LocationList;ProjectList;StatusList=[];form=new o.gE({RequestNumber:new o.MJ({value:"0",disabled:!0},[o.k0.required]),ServiceTypeId:new o.MJ(0,[o.k0.required]),LocationId:new o.MJ(0,[o.k0.required]),ProjectId:new o.MJ(0,[o.k0.required]),CustomerId:new o.MJ(1,[o.k0.required]),AvailableDate:new o.MJ(new Date,[o.k0.required]),EquipmentQty:new o.MJ(0,[o.k0.required]),Status:new o.MJ(I.Pending,[o.k0.required]),ItemToBeInspected:new o.MJ("",[o.k0.required]),ContactPerson:new o.MJ("",[o.k0.required]),ContactPersonPhone:new o.MJ("",[o.k0.required]),ContactPersonEmail:new o.MJ("",[o.k0.email]),RequestDate:new o.MJ(new Date,[o.k0.required]),series:new o.MJ("",[o.k0.required]),Notes:new o.MJ("",[o.k0.required]),Tenant_ID:new o.MJ("")});constructor(t,s,i,r,a,m,f,E,et,tt,st){this._inspectionReqService=t,this._toastr=s,this._destroyRef=i,this._location=r,this.translate=a,this._serviceType=m,this._customerService=f,this._locationService=E,this._projectService=et,this._activateRoute=tt,this._router=st}ngOnInit(){this.inspectionId=Number(this._activateRoute.snapshot.paramMap.get("id")||""),this.inspectionId&&this.getInspectionById(this.inspectionId),this.form.valueChanges.pipe((0,p.pQ)(this._destroyRef)).subscribe(),this.getservTypeList(),this.getCustomerList(),this.getLocationList(),this.getProjectList(),this.getStatusList()}getservTypeList(){this._serviceType.serviceTypeLookup().pipe((0,p.pQ)(this._destroyRef)).subscribe({next:t=>{this.servTypeList=t},error:t=>{this.errorMessage=t.message}})}getCustomerList(){this._customerService.getCustomerLookUp().pipe((0,p.pQ)(this._destroyRef)).subscribe({next:t=>{this.customerList=t},error:t=>{this.errorMessage=t.message}})}getLocationList(){this._locationService.getLocationLookUp().pipe((0,p.pQ)(this._destroyRef)).subscribe({next:t=>{this.LocationList=t},error:t=>{this.errorMessage=t.message}})}getProjectList(){this._projectService.getProjectLookUp().pipe((0,p.pQ)(this._destroyRef)).subscribe({next:t=>{this.ProjectList=t},error:t=>{this.errorMessage=t.message}})}getStatusList(){this.StatusList=Object.keys(I).filter(t=>!isNaN(Number(I[t]))).map(t=>({Id:Number(I[t]),Name:this.formatStatusName(t)}))}getInspectionById(t){this._inspectionReqService.getInspectionReqById(t).pipe((0,p.pQ)(this._destroyRef)).subscribe({next:s=>{this.data=s,this.form.patchValue({RequestNumber:s.RequestNumber,ServiceTypeId:s.ServiceTypeId,LocationId:s.LocationId,ProjectId:s.ProjectId,CustomerId:s.CustomerId,AvailableDate:s.AvailableDate?new Date(s.AvailableDate.toString()):new Date,EquipmentQty:s.EquipmentQty,Status:s.Status,ItemToBeInspected:s.ItemToBeInspected,ContactPerson:s.ContactPerson,ContactPersonPhone:s.ContactPersonPhone,ContactPersonEmail:s.ContactPersonEmail,RequestDate:s.RequestDate?new Date(s.RequestDate.toString()):new Date,series:s.series,Notes:s.Notes,Tenant_ID:s.Tenant_ID})},error:s=>{this.errorMessage=s.message,this._toastr.error("Failed to load inspection request")}})}updateInspection(){if(this.form.valid&&this.inspectionId){const t=this.form.getRawValue(),s={Id:this.inspectionId,RequestNumber:t.RequestNumber||"",ServiceTypeId:t.ServiceTypeId||0,LocationId:t.LocationId||0,ProjectId:t.ProjectId||0,CustomerId:t.CustomerId||0,AvailableDate:t.AvailableDate?new Date(t.AvailableDate).toISOString():(new Date).toISOString(),EquipmentQty:t.EquipmentQty||0,Status:t.Status||I.Pending,ItemToBeInspected:t.ItemToBeInspected||"",ContactPerson:t.ContactPerson||"",ContactPersonPhone:t.ContactPersonPhone||"",ContactPersonEmail:t.ContactPersonEmail||"",RequestDate:t.RequestDate?new Date(t.RequestDate).toISOString():(new Date).toISOString(),Notes:t.Notes||"",series:t.series||"",Tenant_ID:t.Tenant_ID||""};this._inspectionReqService.updateInspectionReq(this.inspectionId,s).pipe((0,p.pQ)(this._destroyRef)).subscribe({next:i=>{this._toastr.success(this.translate.instant("INSPECTION_REQUEST.UPDATE_SUCCESS")),this.form.reset(),this.backAfterEdit()},error:i=>{this.errorMessage=i.message,this._toastr.error(this.translate.instant("INSPECTION_REQUEST.UPDATE_FAILED"))}})}}isInvalid(t){const s=this.form.get(t);return s?.invalid&&s.touched}backAfterEdit(){const t=this._location.path(),s=t.indexOf("/request");if(-1!==s){const i=t.substring(0,s+8);this._router.navigate([i])}else this._router.navigate(["/"])}navigateToCreate(){this._router.navigate(["../../add"],{relativeTo:this._activateRoute})}formatStatusName(t){switch(t){case"Pending":return"Pending";case"InProgress":return"In Progress";case"Completed":return"Completed";case"Cancelled":return"Cancelled";default:return t}}static \u0275fac=function(s){return new(s||n)(e.rXU(N),e.rXU(h.tw),e.rXU(e.abz),e.rXU(S.aZ),e.rXU(u.c$),e.rXU(P.H),e.rXU($.v),e.rXU(U.N),e.rXU(A.T),e.rXU(l.nX),e.rXU(l.Ix))};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspection-edit"]],decls:93,vars:100,consts:[[3,"ngSubmit","formGroup"],[1,"d-flex","align-items-center"],[3,"onAdd","showAdd","showPrint","showDelete"],[3,"reset","isSaveDisabled","showSelected"],[1,"card","p-3"],[1,"container-fluid","mx-4"],[1,"row"],[1,"col-md-3","mb-5"],["for","RequestNumber",1,"mb-2","d-block"],["pInputText","","type","text","id","RequestNumber","formControlName","RequestNumber",1,"w-100","mb-2"],["severity","error","size","small","variant","simple",1,"text-danger"],["for","AvailableDate",1,"mb-2","d-block"],["id","AvailableDate","formControlName","AvailableDate",1,"w-100","mb-2",3,"showIcon"],["for","RequestDate",1,"mb-2","d-block"],["id","RequestDate","formControlName","RequestDate",1,"w-100","mb-2",3,"showIcon"],["for","EquipmentQty",1,"mb-2","d-block"],["inputId","EquipmentQty","formControlName","EquipmentQty",1,"w-100","mb-2"],[1,"col-md-4","mb-5"],["for","servTypeList",1,"mb-2","d-block"],["formControlName","ServiceTypeId",1,"w-100","mb-2",3,"data","displayField","searchFields","valueField","lookupData","readonly","validStyle"],["for","LocationList",1,"mb-2","d-block"],["formControlName","LocationId",1,"w-100","mb-2",3,"data","displayField","searchFields","valueField","lookupData","readonly","validStyle"],["for","ProjectList",1,"mb-2","d-block"],["formControlName","ProjectId",1,"w-100","mb-2",3,"data","displayField","searchFields","valueField","lookupData","readonly","validStyle"],["for","StatusList",1,"mb-2","d-block"],["optionLabel","Name","optionValue","Id","formControlName","Status",3,"options","filter","placeholder","showClear"],["for","ItemToBeInspected",1,"mb-2","d-block"],["pInputText","","type","text","id","ItemToBeInspected","formControlName","ItemToBeInspected",1,"w-100","mb-2"],["for","series",1,"mb-2","d-block"],["pInputText","","type","text","id","series","formControlName","series",1,"w-100","mb-2"],["for","ContactPerson",1,"mb-2","d-block"],["pInputText","","type","text","id","ContactPerson","formControlName","ContactPerson",1,"w-100","mb-2"],["for","ContactPersonPhone",1,"mb-2","d-block"],["pInputText","","type","text","id","ContactPersonPhone","formControlName","ContactPersonPhone",1,"w-100","mb-2"],["for","ContactPersonEmail",1,"mb-2","d-block"],["pInputText","","type","email","id","ContactPersonEmail","formControlName","ContactPersonEmail",1,"w-100","mb-2"],[1,"col-md-12"],["for","Notes",1,"mb-2","d-block"],["pInputText","","type","text","id","Notes","formControlName","Notes",1,"w-100","mb-2"]],template:function(s,i){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return i.updateInspection()}),e.j41(1,"div",1)(2,"app-action-btns",2),e.bIt("onAdd",function(){return i.navigateToCreate()}),e.k0s(),e.j41(3,"app-submit-btns",3),e.bIt("reset",function(){return i.form.reset()}),e.k0s()(),e.j41(4,"div",4),e.nrm(5,"app-breadcrump"),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"input",9),e.DNE(13,me,3,3,"p-message",10),e.k0s(),e.j41(14,"div",7)(15,"label",11),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.nrm(18,"p-datePicker",12),e.DNE(19,ue,3,3,"p-message",10),e.k0s(),e.j41(20,"div",7)(21,"label",13),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.nrm(24,"p-datePicker",14),e.DNE(25,he,3,3,"p-message",10),e.k0s(),e.j41(26,"div",7)(27,"label",15),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.nrm(30,"p-inputnumber",16),e.DNE(31,Ie,3,3,"p-message",10),e.k0s(),e.j41(32,"div",17)(33,"label",18),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.nrm(36,"app-auto-complete",19),e.DNE(37,ve,3,3,"p-message",10),e.k0s(),e.j41(38,"div",17)(39,"label",20),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.nrm(42,"app-auto-complete",21),e.DNE(43,fe,3,3,"p-message",10),e.k0s(),e.j41(44,"div",17)(45,"label",22),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.nrm(48,"app-auto-complete",23),e.DNE(49,be,3,3,"p-message",10),e.k0s(),e.j41(50,"div",17)(51,"label",24),e.EFF(52),e.nI1(53,"translate"),e.k0s(),e.nrm(54,"p-dropdown",25),e.nI1(55,"translate"),e.DNE(56,ge,3,3,"p-message",10),e.k0s(),e.j41(57,"div",17)(58,"label",26),e.EFF(59),e.nI1(60,"translate"),e.k0s(),e.nrm(61,"input",27),e.DNE(62,_e,3,3,"p-message",10),e.k0s(),e.j41(63,"div",17)(64,"label",28),e.EFF(65),e.nI1(66,"translate"),e.k0s(),e.nrm(67,"input",29),e.DNE(68,Ce,3,3,"p-message",10),e.k0s(),e.j41(69,"div",17)(70,"label",30),e.EFF(71),e.nI1(72,"translate"),e.k0s(),e.nrm(73,"input",31),e.DNE(74,Re,3,3,"p-message",10),e.k0s(),e.j41(75,"div",17)(76,"label",32),e.EFF(77),e.nI1(78,"translate"),e.k0s(),e.nrm(79,"input",33),e.DNE(80,ye,3,3,"p-message",10),e.k0s(),e.j41(81,"div",17)(82,"label",34),e.EFF(83),e.nI1(84,"translate"),e.k0s(),e.nrm(85,"input",35),e.DNE(86,Se,3,3,"p-message",10),e.k0s(),e.j41(87,"div",36)(88,"label",37),e.EFF(89),e.nI1(90,"translate"),e.k0s(),e.nrm(91,"input",38),e.DNE(92,Te,3,3,"p-message",10),e.k0s()()()()()),2&s&&(e.Y8G("formGroup",i.form),e.R7$(2),e.Y8G("showAdd",!0)("showPrint",!0)("showDelete",!1),e.R7$(),e.Y8G("isSaveDisabled",i.form.invalid)("showSelected",!1),e.R7$(7),e.JRh(e.bMT(11,63,"RequestNumber")),e.R7$(3),e.vxM(i.isInvalid("RequestNumber")?13:-1),e.R7$(3),e.JRh(e.bMT(17,65,"AvailableDate")),e.R7$(2),e.Y8G("showIcon",!0),e.R7$(),e.vxM(i.isInvalid("AvailableDate")?19:-1),e.R7$(3),e.JRh(e.bMT(23,67,"RequestDate")),e.R7$(2),e.Y8G("showIcon",!0),e.R7$(),e.vxM(i.isInvalid("RequestDate")?25:-1),e.R7$(3),e.JRh(e.bMT(29,69,"EquipmentQty")),e.R7$(3),e.vxM(i.isInvalid("EquipmentQty")?31:-1),e.R7$(3),e.JRh(e.bMT(35,71,"RequestType")),e.R7$(2),e.Y8G("data",i.servTypeList)("displayField",e.lJ4(93,y))("searchFields",e.lJ4(94,y))("valueField","Id")("lookupData",i.servTypeList)("readonly",!1)("validStyle",i.isInvalid("ServiceTypeId")?"ng-invalid":""),e.R7$(),e.vxM(i.isInvalid("ServiceTypeId")?37:-1),e.R7$(3),e.JRh(e.bMT(41,73,"LocationName ")),e.R7$(2),e.Y8G("data",i.LocationList)("displayField",e.lJ4(95,y))("searchFields",e.lJ4(96,y))("valueField","Id")("lookupData",i.LocationList)("readonly",!1)("validStyle",i.isInvalid("LocationId")?"ng-invalid":""),e.R7$(),e.vxM(i.isInvalid("LocationId")?43:-1),e.R7$(3),e.JRh(e.bMT(47,75,"Project ")),e.R7$(2),e.Y8G("data",i.ProjectList)("displayField",e.lJ4(97,y))("searchFields",e.lJ4(98,y))("valueField","Id")("lookupData",i.ProjectList)("readonly",!1)("validStyle",i.isInvalid("ProjectId")?"ng-invalid":""),e.R7$(),e.vxM(i.isInvalid("ProjectId")?49:-1),e.R7$(3),e.JRh(e.bMT(53,77,"Status ")),e.R7$(2),e.Aen(e.lJ4(99,le)),e.FS9("placeholder",e.bMT(55,79,"Select status")),e.Y8G("options",i.StatusList)("filter",!0)("showClear",!0),e.R7$(2),e.vxM(i.isInvalid("Status")?56:-1),e.R7$(3),e.JRh(e.bMT(60,81,"ItemToBeInspected")),e.R7$(3),e.vxM(i.isInvalid("ItemToBeInspected")?62:-1),e.R7$(3),e.JRh(e.bMT(66,83,"Series")),e.R7$(3),e.vxM(i.isInvalid("series")?68:-1),e.R7$(3),e.JRh(e.bMT(72,85,"ContactPerson")),e.R7$(3),e.vxM(i.isInvalid("ContactPerson")?74:-1),e.R7$(3),e.JRh(e.bMT(78,87,"ContactPersonPhone")),e.R7$(3),e.vxM(i.isInvalid("ContactPersonPhone")?80:-1),e.R7$(3),e.JRh(e.bMT(84,89,"ContactPersonEmail")),e.R7$(3),e.vxM(i.isInvalid("ContactPersonEmail")?86:-1),e.R7$(3),e.JRh(e.bMT(90,91,"Notes")),e.R7$(3),e.vxM(i.isInvalid("Notes")?92:-1))},dependencies:[v.R,o.qT,o.me,o.BC,o.cb,w.t,g.V,o.j4,o.JD,F.S,_.QB,J.lr,C.Sm,x.ms,X.YI,u.D9],styles:["[_nghost-%COMP%]     p-datepicker{display:inline-block!important;width:100%!important;margin-bottom:1rem!important}[_nghost-%COMP%]     p-datepicker .p-inputtext{width:100%!important}.form-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}"],changeDetection:0})}return n})(),ke=(()=>{class n{constructor(){}ngOnInit(){}static \u0275fac=function(s){return new(s||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspection-schedule-list"]],decls:2,vars:0,template:function(s,i){1&s&&(e.j41(0,"p"),e.EFF(1," inspection-schedule-list works!\n"),e.k0s())}})}return n})(),Me=(()=>{class n{constructor(){}ngOnInit(){}static \u0275fac=function(s){return new(s||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspection-schedule-add"]],decls:3,vars:0,template:function(s,i){1&s&&(e.nrm(0,"app-breadcrump"),e.j41(1,"p"),e.EFF(2," inspection-schedule-add works!\n"),e.k0s())},dependencies:[v.R]})}return n})(),Fe=(()=>{class n{constructor(){}ngOnInit(){}static \u0275fac=function(s){return new(s||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspection-schedule-edit"]],decls:3,vars:0,template:function(s,i){1&s&&(e.nrm(0,"app-breadcrump"),e.j41(1,"p"),e.EFF(2," inspection-schedule-edit works!\n"),e.k0s())},dependencies:[v.R]})}return n})(),we=(()=>{class n{constructor(){}ngOnInit(){}static \u0275fac=function(s){return new(s||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspection-site-list"]],decls:2,vars:0,template:function(s,i){1&s&&(e.j41(0,"p"),e.EFF(1," inspection-site-list works!\n"),e.k0s())}})}return n})(),Ne=(()=>{class n{constructor(){}ngOnInit(){}static \u0275fac=function(s){return new(s||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspection-site-add"]],decls:2,vars:0,template:function(s,i){1&s&&(e.j41(0,"p"),e.EFF(1," inspection-site-add works!\n"),e.k0s())}})}return n})(),Le=(()=>{class n{constructor(){}ngOnInit(){}static \u0275fac=function(s){return new(s||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspection-site-edit"]],decls:2,vars:0,template:function(s,i){1&s&&(e.j41(0,"p"),e.EFF(1," inspection-site-edit works!\n"),e.k0s())}})}return n})();var D=d(1826);let De=(()=>{class n{_toastr;_inspectMethodService;cd;_router;_activateRoute;dataSource=[];selectedRow=[];columnsSchema=[{key:"Name",label:"Inspection Method Name"}];dataList;constructor(t,s,i,r,a){this._toastr=t,this._inspectMethodService=s,this.cd=i,this._router=r,this._activateRoute=a}ngOnInit(){this.inspectionMethodList()}inspectionMethodList(){this._inspectMethodService.getInspectionMethodsList().subscribe({next:t=>{this.dataSource=t,this.cd.detectChanges()},error:t=>{console.error("Error getting Method data",t)}})}navigateToEdit(t){t?.Id&&this._router.navigate(["edit",t.Id],{relativeTo:this._activateRoute})}onSelectedRows(t){this.selectedRow=t}deleteSelected(t){const s=t.map(i=>this._inspectMethodService.deleteInspectionMethod(i.Id));(0,k.p)(s).pipe((0,M.j)(()=>this.inspectionMethodList())).subscribe({next:()=>{this._toastr.success("Inspection Method deleted successfully"),this.selectedRow=[],this.dataList.clearSelection(),this.cd.detectChanges()},error:i=>{this._toastr.error("Error deleting Inspection Method")}})}static \u0275fac=function(s){return new(s||n)(e.rXU(h.tw),e.rXU(D.t),e.rXU(e.gRc),e.rXU(l.Ix),e.rXU(l.nX))};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspection-method-list"]],viewQuery:function(s,i){if(1&s&&e.GBs(b.q,5),2&s){let r;e.mGM(r=e.lsd())&&(i.dataList=r.first)}},decls:2,vars:2,consts:[[3,"selectedRows","rowClick","onDelete","dataSource","columnsSchema"]],template:function(s,i){1&s&&(e.j41(0,"app-data-list",0),e.bIt("selectedRows",function(a){return i.onSelectedRows(a)})("rowClick",function(a){return i.navigateToEdit(a)})("onDelete",function(a){return i.deleteSelected(a)}),e.k0s(),e.nrm(1,"router-outlet")),2&s&&e.Y8G("dataSource",i.dataSource)("columnsSchema",i.columnsSchema)},dependencies:[l.n3,b.q]})}return n})();function qe(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Inspection Method Name is required")," "))}let je=(()=>{class n{_inspectMethodService;_toastr;_destroyRef;_Localization;data;errorMessage="";form=new o.gE({Name:new o.MJ("",[o.k0.required])});constructor(t,s,i,r){this._inspectMethodService=t,this._toastr=s,this._destroyRef=i,this._Localization=r}ngOnInit(){this.form.valueChanges.pipe((0,p.pQ)(this._destroyRef)).subscribe()}createInspectionMethod(){this.form.valid&&this._inspectMethodService.createInspectionMethod({Name:this.form.value.Name||""}).pipe((0,p.pQ)(this._destroyRef)).subscribe({next:s=>{this.data=s,this.form.reset();const i=this._Localization.instant("INSPECTION_METHOD.CREATE_SUCCESS");this._toastr.success(i)},error:s=>{this.errorMessage=s.message;const i=this._Localization.instant("INSPECTION_METHOD.CREATE_FAILED");this._toastr.error(i)}})}isInvalid(t){const s=this.form.get(t);return s?.invalid&&s.touched}static \u0275fac=function(s){return new(s||n)(e.rXU(D.t),e.rXU(h.tw),e.rXU(e.abz),e.rXU(L.P))};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspection-method-add"]],decls:13,vars:7,consts:[[3,"ngSubmit","formGroup"],[1,"d-flex","align-items-center","mb-3"],[3,"reset","isSaveDisabled","showSelected"],[1,"card","p-3","mt-3"],[1,"container-fluid","mx-4"],[1,"row"],[1,"col-md-6"],["for","Name",1,"mb-2","d-block"],["pInputText","","type","text","id","Name","formControlName","Name",1,"w-100","mb-2"],["severity","error","size","small","variant","simple",1,"text-danger"]],template:function(s,i){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return i.createInspectionMethod()}),e.j41(1,"div",1)(2,"app-submit-btns",2),e.bIt("reset",function(){return i.form.reset()}),e.k0s()(),e.j41(3,"div",3),e.nrm(4,"app-breadcrump"),e.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",8),e.DNE(12,qe,3,3,"p-message",9),e.k0s()()()()()),2&s&&(e.Y8G("formGroup",i.form),e.R7$(2),e.Y8G("isSaveDisabled",i.form.invalid)("showSelected",!1),e.R7$(7),e.JRh(e.bMT(10,5,"Inspection Method Name")),e.R7$(3),e.vxM(i.isInvalid("Name")?12:-1))},dependencies:[v.R,o.qT,o.me,o.BC,o.cb,g.V,o.j4,o.JD,_.QB,C.Sm,u.D9]})}return n})();function Pe(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1," Inspection Method Name is required")," "))}let $e=(()=>{class n{_inspectMethodService;_toastr;_destroyRef;_activateRoute;_router;_location;_Localization;data;errorMessage="";InspectMethodId;form=new o.gE({Name:new o.MJ("",[o.k0.required])});constructor(t,s,i,r,a,m,f){this._inspectMethodService=t,this._toastr=s,this._destroyRef=i,this._activateRoute=r,this._router=a,this._location=m,this._Localization=f}ngOnInit(){this.InspectMethodId=Number(this._activateRoute.snapshot.paramMap.get("id")||""),this.InspectMethodId&&this.inspectionMethodById(this.InspectMethodId),this.form.valueChanges.pipe((0,p.pQ)(this._destroyRef)).subscribe()}inspectionMethodById(t){this._inspectMethodService.getInspectionMethodById(t).pipe((0,p.pQ)(this._destroyRef)).subscribe({next:s=>{this.data=s,this.form.patchValue({Name:this.data.Name})},error:s=>{this.errorMessage=s.message,this._toastr.error(this.errorMessage)}})}updateInspectionMethod(){this.form.valid&&this._inspectMethodService.updateInspectionMethod(this.InspectMethodId,{Id:this.InspectMethodId,Name:this.form.value.Name||""}).pipe((0,p.pQ)(this._destroyRef)).subscribe({next:()=>{this.form.reset(),this.backAfterEdit();const s=this._Localization.instant("INSPECTION_METHOD.UPDATE_SUCCESS");this._toastr.success(s)},error:()=>{const s=this._Localization.instant("INSPECTION_METHOD.UPDATE_FAILED");this._toastr.error(s)}})}isInvalid(t){const s=this.form.get(t);return s?.invalid&&s.touched}backAfterEdit(){const t=this._location.path(),s=t.indexOf("/method");if(-1!==s){const i=t.substring(0,s+7);this._router.navigate([i])}else this._router.navigate(["/"])}navigateToCreate(){this._router.navigate(["../../add"],{relativeTo:this._activateRoute})}static \u0275fac=function(s){return new(s||n)(e.rXU(D.t),e.rXU(h.tw),e.rXU(e.abz),e.rXU(l.nX),e.rXU(l.Ix),e.rXU(S.aZ),e.rXU(L.P))};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspection-method-edit"]],decls:14,vars:10,consts:[[3,"ngSubmit","formGroup"],[1,"d-flex","align-items-center"],[3,"onAdd","showAdd","showPrint","showDelete"],[3,"reset","isSaveDisabled","showSelected"],[1,"card","p-3"],[1,"container-fluid","mx-4"],[1,"row"],[1,"col-md-6"],["for","Name",1,"mb-2","d-block"],["pInputText","","type","text","id","Name","formControlName","Name",1,"w-100","mb-2"],["severity","error","size","small","variant","simple",1,"text-danger"]],template:function(s,i){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return i.updateInspectionMethod()}),e.j41(1,"div",1)(2,"app-action-btns",2),e.bIt("onAdd",function(){return i.navigateToCreate()}),e.k0s(),e.j41(3,"app-submit-btns",3),e.bIt("reset",function(){return i.form.reset()}),e.k0s()(),e.j41(4,"div",4),e.nrm(5,"app-breadcrump"),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"input",9),e.DNE(13,Pe,3,3,"p-message",10),e.k0s()()()()()),2&s&&(e.Y8G("formGroup",i.form),e.R7$(2),e.Y8G("showAdd",!0)("showPrint",!0)("showDelete",!1),e.R7$(),e.Y8G("isSaveDisabled",i.form.invalid)("showSelected",!1),e.R7$(7),e.JRh(e.bMT(11,8,"Inspection Method Name")),e.R7$(3),e.vxM(i.isInvalid("Name")?13:-1))},dependencies:[v.R,o.qT,o.me,o.BC,o.cb,w.t,g.V,o.j4,o.JD,_.QB,C.Sm,u.D9]})}return n})();var T=d(8528);let Ue=(()=>{class n{_toastr;_inspectCategService;cd;_router;_activateRoute;dataSource=[];selectedRow=[];columnsSchema=[{key:"Name",label:"Inspector Category Name"}];dataList;constructor(t,s,i,r,a){this._toastr=t,this._inspectCategService=s,this.cd=i,this._router=r,this._activateRoute=a}ngOnInit(){this.inspectorCategoryList()}inspectorCategoryList(){this._inspectCategService.getInspectorCategoriesList().subscribe({next:t=>{this.dataSource=t,this.cd.detectChanges()},error:t=>{console.error("Error getting Category data",t)}})}navigateToEdit(t){t?.Id&&this._router.navigate(["edit",t.Id],{relativeTo:this._activateRoute})}onSelectedRows(t){this.selectedRow=t}deleteSelected(t){const s=t.map(i=>this._inspectCategService.deleteInspectorCategory(i.Id));(0,k.p)(s).pipe((0,M.j)(()=>this.inspectorCategoryList())).subscribe({next:()=>{this._toastr.success("Inspector Category deleted successfully"),this.selectedRow=[],this.dataList.clearSelection(),this.cd.detectChanges()},error:i=>{this._toastr.error("Error deleting Inspector Category")}})}static \u0275fac=function(s){return new(s||n)(e.rXU(h.tw),e.rXU(T.V),e.rXU(e.gRc),e.rXU(l.Ix),e.rXU(l.nX))};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspector-category-list"]],viewQuery:function(s,i){if(1&s&&e.GBs(b.q,5),2&s){let r;e.mGM(r=e.lsd())&&(i.dataList=r.first)}},decls:2,vars:2,consts:[[3,"selectedRows","rowClick","onDelete","dataSource","columnsSchema"]],template:function(s,i){1&s&&(e.j41(0,"app-data-list",0),e.bIt("selectedRows",function(a){return i.onSelectedRows(a)})("rowClick",function(a){return i.navigateToEdit(a)})("onDelete",function(a){return i.deleteSelected(a)}),e.k0s(),e.nrm(1,"router-outlet")),2&s&&e.Y8G("dataSource",i.dataSource)("columnsSchema",i.columnsSchema)},dependencies:[l.n3,b.q]})}return n})();function Ae(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1," Inspector Category Name is required")," "))}let Je=(()=>{class n{_inspectCategService;_toastr;_destroyRef;data;errorMessage="";form=new o.gE({Name:new o.MJ("",[o.k0.required])});constructor(t,s,i){this._inspectCategService=t,this._toastr=s,this._destroyRef=i}ngOnInit(){this.form.valueChanges.pipe((0,p.pQ)(this._destroyRef)).subscribe()}createInspectCategory(){this.form.valid&&this._inspectCategService.createInspectorCategory({Name:this.form.value.Name||""}).pipe((0,p.pQ)(this._destroyRef)).subscribe({next:s=>{this.data=s,this.form.reset(),this._toastr.success("Inspector Category created successfully")},error:s=>{this.errorMessage=s.message,this._toastr.error("Failed to create Inspector Category")}})}isInvalid(t){const s=this.form.get(t);return s?.invalid&&s.touched}static \u0275fac=function(s){return new(s||n)(e.rXU(T.V),e.rXU(h.tw),e.rXU(e.abz))};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspector-category-add"]],decls:13,vars:7,consts:[[3,"ngSubmit","formGroup"],[1,"d-flex","align-items-center","mb-3"],[3,"reset","isSaveDisabled","showSelected"],[1,"card","p-3","mt-3"],[1,"container-fluid","mx-4"],[1,"row"],[1,"col-md-6"],["for","Name",1,"mb-2","d-block"],["pInputText","","type","text","id","Name","formControlName","Name",1,"w-100","mb-2"],["severity","error","size","small","variant","simple",1,"text-danger"]],template:function(s,i){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return i.createInspectCategory()}),e.j41(1,"div",1)(2,"app-submit-btns",2),e.bIt("reset",function(){return i.form.reset()}),e.k0s()(),e.j41(3,"div",3),e.nrm(4,"app-breadcrump"),e.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",8),e.DNE(12,Ae,3,3,"p-message",9),e.k0s()()()()()),2&s&&(e.Y8G("formGroup",i.form),e.R7$(2),e.Y8G("isSaveDisabled",i.form.invalid)("showSelected",!1),e.R7$(7),e.JRh(e.bMT(10,5,"Inspector Category Name")),e.R7$(3),e.vxM(i.isInvalid("Name")?12:-1))},dependencies:[v.R,o.qT,o.me,o.BC,o.cb,g.V,o.j4,o.JD,_.QB,C.Sm,u.D9]})}return n})();function xe(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1," Inspector Category Name is required")," "))}let Xe=(()=>{class n{_inspectCategService;_toastr;_destroyRef;_activateRoute;_router;_location;data;errorMessage="";inspectCategId;form=new o.gE({Name:new o.MJ("",[o.k0.required])});constructor(t,s,i,r,a,m){this._inspectCategService=t,this._toastr=s,this._destroyRef=i,this._activateRoute=r,this._router=a,this._location=m}ngOnInit(){this.inspectCategId=Number(this._activateRoute.snapshot.paramMap.get("id")||""),this.inspectCategId&&this.inspectorCategoryById(this.inspectCategId),this.form.valueChanges.pipe((0,p.pQ)(this._destroyRef)).subscribe()}inspectorCategoryById(t){this._inspectCategService.getInspectorCategoryById(t).pipe((0,p.pQ)(this._destroyRef)).subscribe({next:s=>{this.data=s,this.form.patchValue({Name:this.data.Name})},error:s=>{this.errorMessage=s.message,this._toastr.error(this.errorMessage)}})}updateInspectCategory(){this.form.valid&&this._inspectCategService.updateInspectorCategory(this.inspectCategId,{Id:this.inspectCategId,Name:this.form.value.Name||""}).pipe((0,p.pQ)(this._destroyRef)).subscribe({next:s=>{this.data=s,this.form.reset({Name:""}),this.backAfterEdit(),this._toastr.success("Inspector Category updated successfully")},error:s=>{this.errorMessage=s.message,this._toastr.error("Failed to update Inspector Category")}})}isInvalid(t){const s=this.form.get(t);return s?.invalid&&s.touched}backAfterEdit(){const t=this._location.path(),s=t.indexOf("/inspector-category");if(-1!==s){const i=t.substring(0,s+19);this._router.navigate([i])}else this._router.navigate(["/"])}navigateToCreate(){this._router.navigate(["../../add"],{relativeTo:this._activateRoute})}static \u0275fac=function(s){return new(s||n)(e.rXU(T.V),e.rXU(h.tw),e.rXU(e.abz),e.rXU(l.nX),e.rXU(l.Ix),e.rXU(S.aZ))};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspector-category-edit"]],decls:14,vars:10,consts:[[3,"ngSubmit","formGroup"],[1,"d-flex","align-items-center"],[3,"onAdd","showAdd","showPrint","showDelete"],[3,"reset","isSaveDisabled","showSelected"],[1,"card","p-3"],[1,"container-fluid","mx-4"],[1,"row"],[1,"col-md-6"],["for","Name",1,"mb-2","d-block"],["pInputText","","type","text","id","Name","formControlName","Name",1,"w-100","mb-2"],["severity","error","size","small","variant","simple",1,"text-danger"]],template:function(s,i){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return i.updateInspectCategory()}),e.j41(1,"div",1)(2,"app-action-btns",2),e.bIt("onAdd",function(){return i.navigateToCreate()}),e.k0s(),e.j41(3,"app-submit-btns",3),e.bIt("reset",function(){return i.form.reset()}),e.k0s()(),e.j41(4,"div",4),e.nrm(5,"app-breadcrump"),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"input",9),e.DNE(13,xe,3,3,"p-message",10),e.k0s()()()()()),2&s&&(e.Y8G("formGroup",i.form),e.R7$(2),e.Y8G("showAdd",!0)("showPrint",!0)("showDelete",!1),e.R7$(),e.Y8G("isSaveDisabled",i.form.invalid)("showSelected",!1),e.R7$(7),e.JRh(e.bMT(11,8,"Inspector Category Name")),e.R7$(3),e.vxM(i.isInvalid("Name")?13:-1))},dependencies:[v.R,o.qT,o.me,o.BC,o.cb,w.t,g.V,o.j4,o.JD,_.QB,C.Sm,u.D9]})}return n})();var Be=d(5964),q=d(2314);const B=()=>["Id","Name"];function Ge(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1," Inspector Name is required")," "))}function Oe(n,c){1&n&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Inspector category is required")," "))}const Q=()=>["Id","Name"];function Ye(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1," Inspector Name is required")," "))}function ze(n,c){1&n&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Inspector category is required")," "))}const He=[{path:"request",component:Y},{path:"request/add",component:pe,data:{mode:"add"}},{path:"request/edit/:id",component:Ee,data:{mode:"edit"}},{path:"schedule",component:ke},{path:"schedule/add",component:Me,data:{mode:"add"}},{path:"schedule/edit/:id",component:Fe,data:{mode:"edit"}},{path:"site",component:we},{path:"site/add",component:Ne,data:{mode:"add"}},{path:"site/edit/:id",component:Le,data:{mode:"edit"}},{path:"method",component:De},{path:"method/add",component:je},{path:"method/edit/:id",component:$e},{path:"inspector-category",component:Ue},{path:"inspector-category/add",component:Je},{path:"inspector-category/edit/:id",component:Xe},{path:"inspector",component:(()=>{class n{_toastr;_inspectorService;cd;_router;_activateRoute;_destroyRef;translat;dataSource=[];selectedRow=[];columnsSchema=[{key:"Name",label:"Inspector Name"},{key:"InspectorCategoryName",label:"Inspector Category Name"}];dataList;constructor(t,s,i,r,a,m,f){this._toastr=t,this._inspectorService=s,this.cd=i,this._router=r,this._activateRoute=a,this._destroyRef=m,this.translat=f}ngOnInit(){this.inspectorList(),this._router.events.pipe((0,Be.p)(t=>t instanceof l.wF),(0,p.pQ)(this._destroyRef)).subscribe(()=>{this.inspectorList()})}inspectorList(){this._inspectorService.getInspectorList().subscribe({next:t=>{this.dataSource=t,this.cd.detectChanges()},error:t=>{console.error(this.translat.instant("Error getting Inspector data",t))}})}navigateToEdit(t){t?.Id&&this._router.navigate(["edit",t.Id],{relativeTo:this._activateRoute})}onSelectedRows(t){this.selectedRow=t}deleteSelected(t){const s=t.map(i=>this._inspectorService.deleteInspector(i.Id));(0,k.p)(s).pipe((0,M.j)(()=>this.inspectorList())).subscribe({next:()=>{this._toastr.success(this.translat.instant("Inspector deleted successfully")),this.selectedRow=[],this.dataList.clearSelection(),this.cd.detectChanges()},error:()=>{this._toastr.error(this.translat.instant("Error deleting Inspector"))}})}static \u0275fac=function(s){return new(s||n)(e.rXU(h.tw),e.rXU(q.j),e.rXU(e.gRc),e.rXU(l.Ix),e.rXU(l.nX),e.rXU(e.abz),e.rXU(u.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspector-list"]],viewQuery:function(s,i){if(1&s&&e.GBs(b.q,5),2&s){let r;e.mGM(r=e.lsd())&&(i.dataList=r.first)}},decls:2,vars:2,consts:[[3,"selectedRows","rowClick","onDelete","dataSource","columnsSchema"]],template:function(s,i){1&s&&(e.j41(0,"app-data-list",0),e.bIt("selectedRows",function(a){return i.onSelectedRows(a)})("rowClick",function(a){return i.navigateToEdit(a)})("onDelete",function(a){return i.deleteSelected(a)}),e.k0s(),e.nrm(1,"router-outlet")),2&s&&e.Y8G("dataSource",i.dataSource)("columnsSchema",i.columnsSchema)},dependencies:[l.n3,b.q]})}return n})()},{path:"inspector/add",component:(()=>{class n{_inspectorService;_toastr;_destroyRef;_inspectorcateg;_router;translat;data;errorMessage="";inspectorLookUP;form=new o.gE({Name:new o.MJ("",[o.k0.required]),InspectorCategoryId:new o.MJ(null,[o.k0.required])});constructor(t,s,i,r,a,m){this._inspectorService=t,this._toastr=s,this._destroyRef=i,this._inspectorcateg=r,this._router=a,this.translat=m}ngOnInit(){this.form.valueChanges.pipe((0,p.pQ)(this._destroyRef)).subscribe(),this.getInspectorCategoryList()}createInspector(){this.form.valid&&this._inspectorService.createInspector({Name:this.form.value.Name,InspectorCategoryId:this.form.value.InspectorCategoryId}).pipe((0,p.pQ)(this._destroyRef)).subscribe({next:s=>{this.data=s,this.form.reset(),this._toastr.success(this.translat.instant("Inspector  created successfully")),setTimeout(()=>{this._router.navigate(["/inspection/operation/inspector"])},1500)},error:s=>{this.errorMessage=s.message,this._toastr.error(this.translat.instant("Failed to create Inspector "))}})}getInspectorCategoryList(){this._inspectorcateg.InspectorCategoryLookup().pipe((0,p.pQ)(this._destroyRef)).subscribe({next:t=>this.inspectorLookUP=t,error:t=>this.errorMessage=t.message})}isInvalid(t){const s=this.form.get(t);return s?.invalid&&s.touched}static \u0275fac=function(s){return new(s||n)(e.rXU(q.j),e.rXU(h.tw),e.rXU(e.abz),e.rXU(T.V),e.rXU(l.Ix),e.rXU(u.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspector-add"]],decls:19,vars:20,consts:[[3,"ngSubmit","formGroup"],[1,"d-flex","align-items-center"],[3,"reset","isSaveDisabled","showSelected"],[1,"card","p-3","mt-3"],[1,"container-fluid","mx-4"],[1,"row"],[1,"col-md-6"],["for","Name",1,"mb-2","d-block"],["pInputText","","type","text","id","Name","formControlName","Name",1,"w-100","mb-2"],["severity","error","size","small","variant","simple",1,"text-danger"],["for","InspectorCategoryId",1,"mb-2","d-block"],["formControlName","InspectorCategoryId",1,"w-100","mb-2",3,"data","displayField","searchFields","valueField","lookupData","readonly","validStyle"]],template:function(s,i){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return i.createInspector()}),e.j41(1,"div",1)(2,"app-submit-btns",2),e.bIt("reset",function(){return i.form.reset()}),e.k0s()(),e.j41(3,"div",3),e.nrm(4,"app-breadcrump"),e.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",8),e.DNE(12,Ge,3,3,"p-message",9),e.k0s(),e.j41(13,"div",6)(14,"label",10),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"app-auto-complete",11),e.DNE(18,Oe,3,3,"p-message",9),e.k0s()()()()()),2&s&&(e.Y8G("formGroup",i.form),e.R7$(2),e.Y8G("isSaveDisabled",i.form.invalid)("showSelected",!1),e.R7$(7),e.JRh(e.bMT(10,14,"Inspector Name")),e.R7$(3),e.vxM(i.isInvalid("Name")?12:-1),e.R7$(3),e.JRh(e.bMT(16,16,"Inspector Category Name")),e.R7$(2),e.Y8G("data",i.inspectorLookUP)("displayField",e.lJ4(18,B))("searchFields",e.lJ4(19,B))("valueField","Id")("lookupData",i.inspectorLookUP)("readonly",!1)("validStyle",i.isInvalid("InspectorCategoryId")?"ng-invalid":""),e.R7$(),e.vxM(i.isInvalid("InspectorCategoryId")?18:-1))},dependencies:[v.R,o.qT,o.me,o.BC,o.cb,g.V,o.j4,o.JD,F.S,_.QB,C.Sm,u.D9]})}return n})()},{path:"inspector/edit/:id",component:(()=>{class n{_inspectorService;_toastr;_destroyRef;_activateRoute;_router;_location;_inspectorcateg;translat;data;errorMessage="";inspectorId;inspectorLookUP;form=new o.gE({Name:new o.MJ("",[o.k0.required]),InspectorCategoryId:new o.MJ(0,[o.k0.required])});constructor(t,s,i,r,a,m,f,E){this._inspectorService=t,this._toastr=s,this._destroyRef=i,this._activateRoute=r,this._router=a,this._location=m,this._inspectorcateg=f,this.translat=E}ngOnInit(){this.inspectorId=Number(this._activateRoute.snapshot.paramMap.get("id")||""),this.inspectorId&&(this.inspectorById(this.inspectorId),this.getInspectorCategoryList()),this.form.valueChanges.pipe((0,p.pQ)(this._destroyRef)).subscribe()}inspectorById(t){this._inspectorService.getInspectorById(t).pipe((0,p.pQ)(this._destroyRef)).subscribe({next:s=>{this.data=s,this.form.patchValue({Name:this.data.Name,InspectorCategoryId:this.data.InspectorCategoryId})},error:s=>{this.errorMessage=s.message,this._toastr.error(this.errorMessage)}})}getInspectorCategoryList(){this._inspectorcateg.InspectorCategoryLookup().pipe((0,p.pQ)(this._destroyRef)).subscribe({next:t=>this.inspectorLookUP=t,error:t=>this.errorMessage=t.message})}updateInspector(){this.form.valid&&this._inspectorService.updateInspector(this.inspectorId,{Id:this.inspectorId,Name:this.form.value.Name||"",InspectorCategoryId:this.form.value.InspectorCategoryId}).pipe((0,p.pQ)(this._destroyRef)).subscribe({next:s=>{this.data=s,this.form.reset({Name:""}),this.backAfterEdit(),this._toastr.success(this.translat.instant("Inspector  updated successfully"))},error:s=>{this.errorMessage=s.message,this._toastr.error(this.translat.instant("Failed to update Inspector "))}})}isInvalid(t){const s=this.form.get(t);return s?.invalid&&s.touched}backAfterEdit(){const t=this._location.path(),s=t.indexOf("/inspector");if(-1!==s){const i=t.substring(0,s+10);this._router.navigate([i])}else this._router.navigate(["/"])}navigateToCreate(){this._router.navigate(["../../add"],{relativeTo:this._activateRoute})}static \u0275fac=function(s){return new(s||n)(e.rXU(q.j),e.rXU(h.tw),e.rXU(e.abz),e.rXU(l.nX),e.rXU(l.Ix),e.rXU(S.aZ),e.rXU(T.V),e.rXU(u.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-inspector-edit"]],decls:20,vars:23,consts:[[3,"ngSubmit","formGroup"],[1,"d-flex","align-items-center"],[3,"onAdd","showAdd","showPrint","showDelete"],[3,"reset","isSaveDisabled","showSelected"],[1,"card","p-3"],[1,"container-fluid","mx-4"],[1,"row"],[1,"col-md-6"],["for","Name",1,"mb-2","d-block"],["pInputText","","type","text","id","Name","formControlName","Name",1,"w-100","mb-2"],["severity","error","size","small","variant","simple",1,"text-danger"],["for","InspectorCategoryId",1,"mb-2","d-block"],["formControlName","InspectorCategoryId",1,"w-100","mb-2",3,"data","displayField","searchFields","valueField","lookupData","readonly","validStyle"]],template:function(s,i){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return i.updateInspector()}),e.j41(1,"div",1)(2,"app-action-btns",2),e.bIt("onAdd",function(){return i.navigateToCreate()}),e.k0s(),e.j41(3,"app-submit-btns",3),e.bIt("reset",function(){return i.form.reset()}),e.k0s()(),e.j41(4,"div",4),e.nrm(5,"app-breadcrump"),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"input",9),e.DNE(13,Ye,3,3,"p-message",10),e.k0s(),e.j41(14,"div",7)(15,"label",11),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.nrm(18,"app-auto-complete",12),e.DNE(19,ze,3,3,"p-message",10),e.k0s()()()()()),2&s&&(e.Y8G("formGroup",i.form),e.R7$(2),e.Y8G("showAdd",!0)("showPrint",!0)("showDelete",!1),e.R7$(),e.Y8G("isSaveDisabled",i.form.invalid)("showSelected",!1),e.R7$(7),e.JRh(e.bMT(11,17,"Inspector Name")),e.R7$(3),e.vxM(i.isInvalid("Name")?13:-1),e.R7$(3),e.JRh(e.bMT(17,19,"Inspector Category Name")),e.R7$(2),e.Y8G("data",i.inspectorLookUP)("displayField",e.lJ4(21,Q))("searchFields",e.lJ4(22,Q))("valueField","Id")("lookupData",i.inspectorLookUP)("readonly",!1)("validStyle",i.isInvalid("InspectorCategoryId")?"ng-invalid":""),e.R7$(),e.vxM(i.isInvalid("InspectorCategoryId")?19:-1))},dependencies:[v.R,o.qT,o.me,o.BC,o.cb,w.t,g.V,o.j4,o.JD,F.S,_.QB,C.Sm,u.D9]})}return n})()}];let Ze=(()=>{class n{static \u0275fac=function(s){return new(s||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[l.iI.forChild(He),l.iI]})}return n})();var G=d(5779),We=d(6176);let Ke=(()=>{class n{static \u0275fac=function(s){return new(s||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({providers:[G.td,G.bg],imports:[S.MD,Ze,We.G]})}return n})()}}]);