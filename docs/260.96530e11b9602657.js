"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[260],{7260:(Re,F,l)=>{l.r(F),l.d(F,{GeneralsModule:()=>Ce});var f=l(177),c=l(2791),e=l(3953);let j=(()=>{class r{constructor(){}ngOnInit(){}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-general-setting-list"]],decls:2,vars:0,template:function(t,a){1&t&&(e.j41(0,"p"),e.EFF(1," general-setting-list works!\n"),e.k0s())}})}return r})(),$=(()=>{class r{constructor(){}ngOnInit(){}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-general-setting-add"]],decls:2,vars:0,template:function(t,a){1&t&&(e.j41(0,"p"),e.EFF(1," general-setting-add works!\n"),e.k0s())}})}return r})(),B=(()=>{class r{constructor(){}ngOnInit(){}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-general-setting-edit"]],decls:2,vars:0,template:function(t,a){1&t&&(e.j41(0,"p"),e.EFF(1," general-setting-edit works!\n"),e.k0s())}})}return r})(),x=(()=>{class r{constructor(){}ngOnInit(){}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-user-setting-list"]],decls:2,vars:0,template:function(t,a){1&t&&(e.j41(0,"p"),e.EFF(1," user-setting-list works!\n"),e.k0s())}})}return r})(),L=(()=>{class r{constructor(){}ngOnInit(){}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-user-setting-add"]],decls:2,vars:0,template:function(t,a){1&t&&(e.j41(0,"p"),e.EFF(1," user-setting-add works!\n"),e.k0s())}})}return r})(),P=(()=>{class r{constructor(){}ngOnInit(){}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-user-setting-edit"]],decls:2,vars:0,template:function(t,a){1&t&&(e.j41(0,"p"),e.EFF(1," user-setting-edit works!\n"),e.k0s())}})}return r})();var u=function(r){return r[r.yearly=0]="yearly",r[r.never=1]="never",r}(u||{}),I=l(7468),R=l(980),b=l(1174),y=l(3281),p=l(5794);let D=(()=>{class r{_router;_activateRoute;cd;_seriesService;_toastr;constructor(s,t,a,n,o){this._router=s,this._activateRoute=t,this.cd=a,this._seriesService=n,this._toastr=o}dataList;dataSource=[];selectedRow=[];columnsSchema=[{key:"SeriesCode",label:"Series Code"},{key:"SeriesName",label:"Series Name"},{key:"PaddingLength",label:"Padding Length"},{key:"Separator",label:"Separator"},{key:"ResetPolicy",label:"Reset Policy",formatter:s=>u[s]}];ngOnInit(){this.SeriesList()}SeriesList(){this._seriesService.getSeriesList().subscribe({next:s=>{this.dataSource=s,this.cd.detectChanges()},error:s=>{console.error("Error getting inspection request data",s)}})}navigateToEdit(s){s?.Id&&this._router.navigate(["edit",s.Id],{relativeTo:this._activateRoute})}onSelectedRows(s){this.selectedRow=s}deleteSelected(s){const t=s.map(a=>this._seriesService.deleteSeries(String(a.Id)));(0,I.p)(t).pipe((0,R.j)(()=>this.SeriesList())).subscribe({next:()=>{this._toastr.success("Series deleted successfully"),this.selectedRow=[],this.dataList.clearSelection(),this.cd.detectChanges()},error:a=>{console.error("Error deleting records",a),this._toastr.error("Error deleting series")}})}static \u0275fac=function(t){return new(t||r)(e.rXU(c.Ix),e.rXU(c.nX),e.rXU(e.gRc),e.rXU(y.x),e.rXU(p.tw))};static \u0275cmp=e.VBU({type:r,selectors:[["app-series-list"]],viewQuery:function(t,a){if(1&t&&e.GBs(b.q,5),2&t){let n;e.mGM(n=e.lsd())&&(a.dataList=n.first)}},decls:2,vars:2,consts:[[3,"selectedRows","rowClick","onDelete","dataSource","columnsSchema"]],template:function(t,a){1&t&&(e.j41(0,"app-data-list",0),e.bIt("selectedRows",function(o){return a.onSelectedRows(o)})("rowClick",function(o){return a.navigateToEdit(o)})("onDelete",function(o){return a.deleteSelected(o)}),e.k0s(),e.nrm(1,"router-outlet")),2&t&&e.Y8G("dataSource",a.dataSource)("columnsSchema",a.columnsSchema)},dependencies:[c.n3,b.q]})}return r})();var i=l(9417),m=l(9079),h=l(9664),v=l(386),S=l(9298),N=l(1938),_=l(5114),g=l(2242),E=l(494);const A=()=>["Screen_ID","Screen_Name"];function U(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Series Code is required")," "))}function J(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Series Name is required")," "))}function G(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Separator is required")," "))}function X(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Padding Length is required")," "))}function q(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Screen Code is required")," "))}function O(r,d){if(1&r&&(e.j41(0,"div",21),e.nrm(1,"p-radiobutton",22),e.j41(2,"label",23),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&r){const s=d.$implicit;e.R7$(),e.Y8G("value",s.value),e.R7$(2),e.JRh(e.bMT(4,2,s.label))}}function Q(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Reset Policy is required")," "))}let V=(()=>{class r{_SeriesService;_toastr;_destroyRef;translat;data;errorMessage="";screenCodeList;ResetPolicyOptions=Object.keys(u).filter(s=>!isNaN(Number(u[s]))).map(s=>({value:u[s],label:s}));form=new i.gE({SeriesCode:new i.MJ("",[i.k0.required]),SeriesName:new i.MJ("",[i.k0.required]),Separator:new i.MJ("",[i.k0.required]),ScreenCode_Id:new i.MJ("",[i.k0.required]),PaddingLength:new i.MJ("",[i.k0.required]),ResetPolicy:new i.MJ(0,[i.k0.required])});constructor(s,t,a,n){this._SeriesService=s,this._toastr=t,this._destroyRef=a,this.translat=n}ngOnInit(){this.form.valueChanges.pipe((0,m.pQ)(this._destroyRef)).subscribe(),this.getScreenCode()}getScreenCode(){this._SeriesService.getScreenCode().pipe((0,m.pQ)(this._destroyRef)).subscribe({next:s=>{this.screenCodeList=s},error:s=>{this.errorMessage=s.message}})}createSeries(){this.form.valid&&this._SeriesService.createSeries({SeriesCode:this.form.value.SeriesCode||"",SeriesName:this.form.value.SeriesName||"",Separator:this.form.value.Separator||"",ScreenCode_Id:this.form.value.ScreenCode_Id||"",PaddingLength:this.form.value.PaddingLength??"",ResetPolicy:this.form.value.ResetPolicy||0}).pipe((0,m.pQ)(this._destroyRef)).subscribe({next:t=>{this.data=t,this.form.reset({SeriesCode:"",SeriesName:"",Separator:"",ScreenCode_Id:"",PaddingLength:null,ResetPolicy:null}),this._toastr.success("Series created successfully")},error:t=>{this.errorMessage=t.message,this._toastr.error("Failed to create series")}})}isInvalid(s){const t=this.form.get(s);return t?.invalid&&t.touched}static \u0275fac=function(t){return new(t||r)(e.rXU(y.x),e.rXU(p.tw),e.rXU(e.abz),e.rXU(h.c$))};static \u0275cmp=e.VBU({type:r,selectors:[["app-series-add"]],decls:44,vars:37,consts:[[3,"ngSubmit","formGroup"],[1,"d-flex","align-items-center","mb-3"],[3,"reset","isSaveDisabled","showSelected"],[1,"card","p-3","mt-3"],[1,"container-fluid","mx-4"],[1,"row"],[1,"col-md-6"],["for","SeriesCode",1,"mb-2","d-block"],["pInputText","","type","text","id","SeriesCode","formControlName","SeriesCode",1,"w-100","mb-2"],["severity","error","size","small","variant","simple",1,"text-danger"],["for","SeriesName",1,"mb-2","d-block"],["pInputText","","type","text","id","SeriesName","formControlName","SeriesName",1,"w-100","mb-2"],["for","Separator",1,"mb-2","d-block"],["pInputText","","type","text","id","Separator","formControlName","Separator",1,"w-100","mb-2"],["for","PaddingLength",1,"mb-2","d-block"],["pInputText","","type","text","id","PaddingLength","formControlName","PaddingLength",1,"w-100","mb-2"],["for","ScreenCode_Id",1,"mb-2","d-block"],["formControlName","ScreenCode_Id",1,"w-100","mb-2",3,"data","displayField","searchFields","valueField","lookupData","readonly","validStyle"],["for","ResetPolicy",1,"mb-2","d-block"],[1,"d-flex","align-items-center"],["class","d-flex align-items-center me-5",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","me-5"],["formControlName","ResetPolicy",3,"value"],[1,"ms-2"]],template:function(t,a){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return a.createSeries()}),e.j41(1,"div",1)(2,"app-submit-btns",2),e.bIt("reset",function(){return a.form.reset()}),e.k0s()(),e.j41(3,"div",3),e.nrm(4,"app-breadcrump"),e.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",8),e.DNE(12,U,3,3,"p-message",9),e.k0s(),e.j41(13,"div",6)(14,"label",10),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",11),e.DNE(18,J,3,3,"p-message",9),e.k0s(),e.j41(19,"div",6)(20,"label",12),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",13),e.DNE(24,G,3,3,"p-message",9),e.k0s(),e.j41(25,"div",6)(26,"label",14),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",15),e.DNE(30,X,3,3,"p-message",9),e.k0s(),e.j41(31,"div",6)(32,"label",16),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.nrm(35,"app-auto-complete",17),e.DNE(36,q,3,3,"p-message",9),e.k0s(),e.j41(37,"div",6)(38,"label",18),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.j41(41,"div",19),e.DNE(42,O,5,4,"div",20),e.k0s(),e.DNE(43,Q,3,3,"p-message",9),e.k0s()()()()()),2&t&&(e.Y8G("formGroup",a.form),e.R7$(2),e.Y8G("isSaveDisabled",a.form.invalid)("showSelected",!1),e.R7$(7),e.JRh(e.bMT(10,23,"Series Code")),e.R7$(3),e.vxM(a.isInvalid("SeriesCode")?12:-1),e.R7$(3),e.JRh(e.bMT(16,25,"Series Name")),e.R7$(3),e.vxM(a.isInvalid("SeriesName")?18:-1),e.R7$(3),e.JRh(e.bMT(22,27,"Seperator")),e.R7$(3),e.vxM(a.isInvalid("Separator")?24:-1),e.R7$(3),e.JRh(e.bMT(28,29,"Paading Length")),e.R7$(3),e.vxM(a.isInvalid("PaddingLength")?30:-1),e.R7$(3),e.JRh(e.bMT(34,31,"Screen Code")),e.R7$(2),e.Y8G("data",a.screenCodeList)("displayField",e.lJ4(35,A))("searchFields",e.lJ4(36,A))("valueField","Screen_ID")("lookupData",a.screenCodeList)("readonly",!1)("validStyle",a.isInvalid("ScreenCode_Id")?"ng-invalid":""),e.R7$(),e.vxM(a.isInvalid("ScreenCode_Id")?36:-1),e.R7$(3),e.JRh(e.bMT(40,33,"Reset Policy")),e.R7$(3),e.Y8G("ngForOf",a.ResetPolicyOptions),e.R7$(),e.vxM(a.isInvalid("ResetPolicy")?43:-1))},dependencies:[f.Sq,v.R,i.qT,i.me,i.BC,i.cb,S.V,i.j4,i.JD,N.S,_.QB,g.Sm,E.a,h.D9]})}return r})();const w=()=>["Screen_ID","Screen_Name"];function Y(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Series Code is required")," "))}function z(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Series Name is required")," "))}function Z(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Separator is required")," "))}function H(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Padding Length is required")," "))}function K(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Screen Code is required")," "))}function W(r,d){if(1&r&&(e.j41(0,"div",20),e.nrm(1,"p-radiobutton",21),e.j41(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&r){const s=d.$implicit;e.R7$(),e.Y8G("value",s.value),e.R7$(2),e.JRh(e.bMT(4,2,s.label))}}function ee(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Reset Policy is required")," "))}let te=(()=>{class r{_SeriesService;_toastr;_destroyRef;translat;_activateRoute;_router;_location;data;errorMessage="";seriesId;screenCodeList;ResetPolicyOptions=Object.keys(u).filter(s=>!isNaN(Number(u[s]))).map(s=>({value:u[s],label:s}));form=new i.gE({SeriesCode:new i.MJ("",[i.k0.required]),SeriesName:new i.MJ("",[i.k0.required]),Separator:new i.MJ("",[i.k0.required]),ScreenCode_Id:new i.MJ("",[i.k0.required]),PaddingLength:new i.MJ("",[i.k0.required]),ResetPolicy:new i.MJ(0,[i.k0.required])});constructor(s,t,a,n,o,C,Ie){this._SeriesService=s,this._toastr=t,this._destroyRef=a,this.translat=n,this._activateRoute=o,this._router=C,this._location=Ie}ngOnInit(){this.seriesId=this._activateRoute.snapshot.paramMap.get("id")||"",this.seriesId&&(this.seriesById(this.seriesId),this.getScreenCode()),this.form.valueChanges.pipe((0,m.pQ)(this._destroyRef)).subscribe()}getScreenCode(){this._SeriesService.getScreenCode().pipe((0,m.pQ)(this._destroyRef)).subscribe({next:s=>{this.screenCodeList=s},error:s=>{this.errorMessage=s.message}})}seriesById(s){this._SeriesService.getSeriesById(s).subscribe({next:t=>{this.data=t,this.form.patchValue({SeriesCode:t.SeriesCode,SeriesName:t.SeriesName,Separator:t.Separator,ScreenCode_Id:t.ScreenCode_Id,PaddingLength:t.PaddingLength,ResetPolicy:t.ResetPolicy})},error:t=>{this.errorMessage=t.message}})}updateSeries(){this.form.valid&&this.seriesId&&this._SeriesService.updateSeries(this.seriesId,{Id:this.seriesId,SeriesCode:this.form.value.SeriesCode||"",SeriesName:this.form.value.SeriesName||"",Separator:this.form.value.Separator||"",ScreenCode_Id:this.form.value.ScreenCode_Id||"",PaddingLength:this.form.value.PaddingLength||"",ResetPolicy:this.form.value.ResetPolicy||0}).pipe((0,m.pQ)(this._destroyRef)).subscribe({next:t=>{this.data=t,this._toastr.success("Sries updated successfully"),this.backAfterEdit()},error:t=>{this.errorMessage=t.message,this._toastr.error("Failed to update series")}})}isInvalid(s){const t=this.form.get(s);return t?.invalid&&t.touched}backAfterEdit(){const s=this._location.path(),t=s.indexOf("/series");if(-1!==t){const a=s.substring(0,t+7);this._router.navigate([a])}else this._router.navigate(["/"])}navigateToCreate(){this._router.navigate(["../../add"],{relativeTo:this._activateRoute})}static \u0275fac=function(t){return new(t||r)(e.rXU(y.x),e.rXU(p.tw),e.rXU(e.abz),e.rXU(h.c$),e.rXU(c.nX),e.rXU(c.Ix),e.rXU(f.aZ))};static \u0275cmp=e.VBU({type:r,selectors:[["app-series-edit"]],decls:44,vars:37,consts:[[3,"ngSubmit","formGroup"],[1,"d-flex","align-items-center"],[3,"reset","isSaveDisabled","showSelected"],[1,"card","p-3"],[1,"container-fluid","mx-4"],[1,"row"],[1,"col-md-6"],["for","SeriesCode",1,"mb-2","d-block"],["pInputText","","type","text","id","SeriesCode","formControlName","SeriesCode",1,"w-100","mb-2"],["severity","error","size","small","variant","simple",1,"text-danger"],["for","SeriesName",1,"mb-2","d-block"],["pInputText","","type","text","id","SeriesName","formControlName","SeriesName",1,"w-100","mb-2"],["for","Separator",1,"mb-2","d-block"],["pInputText","","type","text","id","Separator","formControlName","Separator",1,"w-100","mb-2"],["for","PaddingLength",1,"mb-2","d-block"],["pInputText","","type","text","id","PaddingLength","formControlName","PaddingLength",1,"w-100","mb-2"],["for","ScreenCode_Id",1,"mb-2","d-block"],["formControlName","ScreenCode_Id",1,"w-100","mb-2",3,"data","displayField","searchFields","valueField","lookupData","readonly","validStyle"],["for","ResetPolicy",1,"mb-2","d-block"],["class","d-flex align-items-center me-5",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","me-5"],["formControlName","ResetPolicy",3,"value"],[1,"ms-2"]],template:function(t,a){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return a.updateSeries()}),e.j41(1,"div",1)(2,"app-submit-btns",2),e.bIt("reset",function(){return a.form.reset()}),e.k0s()(),e.j41(3,"div",3),e.nrm(4,"app-breadcrump"),e.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",8),e.DNE(12,Y,3,3,"p-message",9),e.k0s(),e.j41(13,"div",6)(14,"label",10),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",11),e.DNE(18,z,3,3,"p-message",9),e.k0s(),e.j41(19,"div",6)(20,"label",12),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",13),e.DNE(24,Z,3,3,"p-message",9),e.k0s(),e.j41(25,"div",6)(26,"label",14),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",15),e.DNE(30,H,3,3,"p-message",9),e.k0s(),e.j41(31,"div",6)(32,"label",16),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.nrm(35,"app-auto-complete",17),e.DNE(36,K,3,3,"p-message",9),e.k0s(),e.j41(37,"div",6)(38,"label",18),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.j41(41,"div",1),e.DNE(42,W,5,4,"div",19),e.k0s(),e.DNE(43,ee,3,3,"p-message",9),e.k0s()()()()()),2&t&&(e.Y8G("formGroup",a.form),e.R7$(2),e.Y8G("isSaveDisabled",a.form.invalid)("showSelected",!1),e.R7$(7),e.JRh(e.bMT(10,23,"Series Code")),e.R7$(3),e.vxM(a.isInvalid("SeriesCode")?12:-1),e.R7$(3),e.JRh(e.bMT(16,25,"Series Name")),e.R7$(3),e.vxM(a.isInvalid("SeriesName")?18:-1),e.R7$(3),e.JRh(e.bMT(22,27,"Seperator")),e.R7$(3),e.vxM(a.isInvalid("Separator")?24:-1),e.R7$(3),e.JRh(e.bMT(28,29,"Paading Length")),e.R7$(3),e.vxM(a.isInvalid("PaddingLength")?30:-1),e.R7$(3),e.JRh(e.bMT(34,31,"Screen Code")),e.R7$(2),e.Y8G("data",a.screenCodeList)("displayField",e.lJ4(35,w))("searchFields",e.lJ4(36,w))("valueField","Screen_ID")("lookupData",a.screenCodeList)("readonly",!1)("validStyle",a.isInvalid("ScreenCode_Id")?"ng-invalid":""),e.R7$(),e.vxM(a.isInvalid("ScreenCode_Id")?36:-1),e.R7$(3),e.JRh(e.bMT(40,33,"Reset Policy")),e.R7$(3),e.Y8G("ngForOf",a.ResetPolicyOptions),e.R7$(),e.vxM(a.isInvalid("ResetPolicy")?43:-1))},dependencies:[f.Sq,v.R,i.qT,i.me,i.BC,i.cb,S.V,i.j4,i.JD,N.S,_.QB,g.Sm,E.a,h.D9]})}return r})();var T=l(5759);let re=(()=>{class r{_branchService;_toastr;cd;_router;_activateRoute;dataList;dataSource=[];selectedRow=[];columnsSchema=[{key:"NameAr",label:"Branch Name Arabic"},{key:"NameEn",label:"Branch Name English"},{key:"Address",label:"Address"},{key:"Phone",label:"Phone"}];constructor(s,t,a,n,o){this._branchService=s,this._toastr=t,this.cd=a,this._router=n,this._activateRoute=o}ngOnInit(){this.branchList()}branchList(){this._branchService.getBranchesList().subscribe({next:s=>{this.dataSource=s,this.cd.detectChanges()},error:s=>{console.error("Error getting area data",s)}})}navigateToEdit(s){s?.Id&&this._router.navigate(["edit",s.Id],{relativeTo:this._activateRoute})}onSelectedRows(s){this.selectedRow=s}deleteSelected(s){const t=s.map(a=>this._branchService.deleteBranch(a.Id));(0,I.p)(t).pipe((0,R.j)(()=>this.branchList())).subscribe({next:()=>{this._toastr.success("Branch deleted successfully"),this.selectedRow=[],this.dataList.clearSelection(),this.cd.detectChanges()},error:a=>{console.error("Error deleting records",a),this._toastr.error("Error deleting branch")}})}static \u0275fac=function(t){return new(t||r)(e.rXU(T.O),e.rXU(p.tw),e.rXU(e.gRc),e.rXU(c.Ix),e.rXU(c.nX))};static \u0275cmp=e.VBU({type:r,selectors:[["app-branch-list"]],viewQuery:function(t,a){if(1&t&&e.GBs(b.q,5),2&t){let n;e.mGM(n=e.lsd())&&(a.dataList=n.first)}},decls:2,vars:2,consts:[[3,"selectedRows","rowClick","onDelete","dataSource","columnsSchema"]],template:function(t,a){1&t&&(e.j41(0,"app-data-list",0),e.bIt("selectedRows",function(o){return a.onSelectedRows(o)})("rowClick",function(o){return a.navigateToEdit(o)})("onDelete",function(o){return a.deleteSelected(o)}),e.k0s(),e.nrm(1,"router-outlet")),2&t&&e.Y8G("dataSource",a.dataSource)("columnsSchema",a.columnsSchema)},dependencies:[c.n3,b.q]})}return r})();function se(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1," Branch Name Ar is required")," "))}function ae(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1," Branch Name En is required")," "))}function ie(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Address is required")," "))}function ne(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Phone is required")," "))}let oe=(()=>{class r{_branchService;_toastr;_destroyRef;data;errorMessage="";form=new i.gE({NameAr:new i.MJ("",[i.k0.required]),NameEn:new i.MJ("",[i.k0.required]),Address:new i.MJ("",[i.k0.required]),Phone:new i.MJ("",[i.k0.required])});constructor(s,t,a){this._branchService=s,this._toastr=t,this._destroyRef=a}ngOnInit(){this.form.valueChanges.pipe((0,m.pQ)(this._destroyRef)).subscribe()}createBranch(){if(this.form.valid){const s={NameAr:this.form.value.NameAr||"",NameEn:this.form.value.NameEn||"",Address:this.form.value.Address||"",Phone:this.form.value.Phone||""};console.log("Request Body:",s),this._branchService.createBranch(s).pipe((0,m.pQ)(this._destroyRef)).subscribe({next:t=>{this.data=t,this.form.reset(),this._toastr.success("Branch created successfully")},error:t=>{this.errorMessage=t.message,console.log(t),this._toastr.error("Failed to create Branch")}})}}isInvalid(s){const t=this.form.get(s);return t?.invalid&&t.touched}static \u0275fac=function(t){return new(t||r)(e.rXU(T.O),e.rXU(p.tw),e.rXU(e.abz))};static \u0275cmp=e.VBU({type:r,selectors:[["app-branch-add"]],decls:31,vars:19,consts:[[3,"ngSubmit","formGroup"],[1,"d-flex","align-items-center","mb-3"],[3,"reset","isSaveDisabled","showSelected"],[1,"card","p-3"],[1,"container-fluid","mx-4"],[1,"row"],[1,"col-md-6"],["for","NameAr",1,"mb-2","d-block"],["pInputText","","type","text","id","NameAr","formControlName","NameAr",1,"w-100","mb-2"],["severity","error","size","small","variant","simple",1,"text-danger"],["for","NameEn",1,"mb-2","d-block"],["pInputText","","type","text","id","NameEn","formControlName","NameEn",1,"w-100","mb-2"],["for","Address",1,"mb-2","d-block"],["pInputText","","type","text","id","Address","formControlName","Address",1,"w-100","mb-2"],["for","Phone",1,"mb-2","d-block"],["pInputText","","type","text","id","Phone","formControlName","Phone",1,"w-100","mb-2"]],template:function(t,a){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return a.createBranch()}),e.j41(1,"div",1)(2,"app-submit-btns",2),e.bIt("reset",function(){return a.form.reset()}),e.k0s()(),e.j41(3,"div",3),e.nrm(4,"app-breadcrump"),e.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",8),e.DNE(12,se,3,3,"p-message",9),e.k0s(),e.j41(13,"div",6)(14,"label",10),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",11),e.DNE(18,ae,3,3,"p-message",9),e.k0s(),e.j41(19,"div",6)(20,"label",12),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",13),e.DNE(24,ie,3,3,"p-message",9),e.k0s(),e.j41(25,"div",6)(26,"label",14),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",15),e.DNE(30,ne,3,3,"p-message",9),e.k0s()()()()()),2&t&&(e.Y8G("formGroup",a.form),e.R7$(2),e.Y8G("isSaveDisabled",a.form.invalid)("showSelected",!1),e.R7$(7),e.JRh(e.bMT(10,11,"Branch Name Ar")),e.R7$(3),e.vxM(a.isInvalid("NameAr")?12:-1),e.R7$(3),e.JRh(e.bMT(16,13,"Branch Name En")),e.R7$(3),e.vxM(a.isInvalid("NameEn")?18:-1),e.R7$(3),e.JRh(e.bMT(22,15,"Address")),e.R7$(3),e.vxM(a.isInvalid("Address")?24:-1),e.R7$(3),e.JRh(e.bMT(28,17,"Phone")),e.R7$(3),e.vxM(a.isInvalid("Phone")?30:-1))},dependencies:[v.R,i.qT,i.me,i.BC,i.cb,S.V,i.j4,i.JD,_.QB,g.Sm,h.D9]})}return r})();var M=l(4006);function de(r,d){1&r&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Branch Name Ar is required")," "))}function le(r,d){1&r&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Branch Name En is required")," "))}function ce(r,d){1&r&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Address is required")," "))}function me(r,d){1&r&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Phone is required")," "))}let pe=(()=>{class r{_branchService;_toastr;_destroyRef;_activateRoute;_router;_location;data;errorMessage="";branchId;form=new i.gE({NameAr:new i.MJ("",[i.k0.required]),NameEn:new i.MJ("",[i.k0.required]),Address:new i.MJ("",[i.k0.required]),Phone:new i.MJ("",[i.k0.required])});constructor(s,t,a,n,o,C){this._branchService=s,this._toastr=t,this._destroyRef=a,this._activateRoute=n,this._router=o,this._location=C}ngOnInit(){this.branchId=Number(this._activateRoute.snapshot.paramMap.get("id")||""),this.branchId&&this.branchById(this.branchId),this.form.valueChanges.pipe((0,m.pQ)(this._destroyRef)).subscribe()}branchById(s){this._branchService.getBranchById(s).pipe((0,m.pQ)(this._destroyRef)).subscribe({next:t=>{this.data=t,this.form.patchValue({NameAr:this.data.NameAr,NameEn:this.data.NameEn,Address:this.data.Address,Phone:this.data.Phone})},error:t=>{this.errorMessage=t.message,this._toastr.error(this.errorMessage)}})}updateBranch(){this.form.valid&&this.branchId&&this._branchService.updateBranch(this.branchId,{Id:this.branchId,NameAr:this.form.value.NameAr||"",NameEn:this.form.value.NameEn||"",Address:this.form.value.Address||"",Phone:this.form.value.Phone||""}).pipe((0,m.pQ)(this._destroyRef)).subscribe({next:t=>{this.data=t,this.form.reset(),this.backAfterEdit(),this._toastr.success("Branch updated successfully")},error:t=>{this.errorMessage=t.message,this._toastr.error("Failed to update Branch")}})}isInvalid(s){const t=this.form.get(s);return t?.invalid&&t.touched}backAfterEdit(){const s=this._location.path(),t=s.indexOf("/branch");if(-1!==t){const a=s.substring(0,t+7);this._router.navigate([a])}else this._router.navigate(["/"])}navigateToCreate(){this._router.navigate(["../../add"],{relativeTo:this._activateRoute})}static \u0275fac=function(t){return new(t||r)(e.rXU(T.O),e.rXU(p.tw),e.rXU(e.abz),e.rXU(c.nX),e.rXU(c.Ix),e.rXU(f.aZ))};static \u0275cmp=e.VBU({type:r,selectors:[["app-branch-edit"]],decls:32,vars:22,consts:[[3,"ngSubmit","formGroup"],[1,"d-flex","align-items-center"],[3,"onAdd","showAdd","showPrint","showDelete"],[3,"reset","isSaveDisabled","showSelected"],[1,"card","p-3","mt-3"],[1,"container-fluid","mx-4"],[1,"row"],[1,"col-md-6"],["for","NameAr",1,"mb-2","d-block"],["pInputText","","type","text","id","NameAr","formControlName","NameAr",1,"w-100","mb-2"],["severity","error","size","small","variant","simple",1,"text-danger"],["for","NameEn",1,"mb-2","d-block"],["pInputText","","type","text","id","NameEn","formControlName","NameEn",1,"w-100","mb-2"],["for","Address",1,"mb-2","d-block"],["pInputText","","type","text","id","Address","formControlName","Address",1,"w-100","mb-2"],["for","Phone",1,"mb-2","d-block"],["pInputText","","type","text","id","Phone","formControlName","Phone",1,"w-100","mb-2"]],template:function(t,a){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return a.updateBranch()}),e.j41(1,"div",1)(2,"app-action-btns",2),e.bIt("onAdd",function(){return a.navigateToCreate()}),e.k0s(),e.j41(3,"app-submit-btns",3),e.bIt("reset",function(){return a.form.reset()}),e.k0s()(),e.j41(4,"div",4),e.nrm(5,"app-breadcrump"),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"input",9),e.DNE(13,de,3,3,"p-message",10),e.k0s(),e.j41(14,"div",7)(15,"label",11),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.nrm(18,"input",12),e.DNE(19,le,3,3,"p-message",10),e.k0s(),e.j41(20,"div",7)(21,"label",13),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.nrm(24,"input",14),e.DNE(25,ce,3,3,"p-message",10),e.k0s(),e.j41(26,"div",7)(27,"label",15),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.nrm(30,"input",16),e.DNE(31,me,3,3,"p-message",10),e.k0s()()()()()),2&t&&(e.Y8G("formGroup",a.form),e.R7$(2),e.Y8G("showAdd",!0)("showPrint",!0)("showDelete",!1),e.R7$(),e.Y8G("isSaveDisabled",a.form.invalid)("showSelected",!1),e.R7$(7),e.JRh(e.bMT(11,14,"Branch Name Ar")),e.R7$(3),e.vxM(a.isInvalid("NameAr")?13:-1),e.R7$(3),e.JRh(e.bMT(17,16,"Branch Name En")),e.R7$(3),e.vxM(a.isInvalid("NameEn")?19:-1),e.R7$(3),e.JRh(e.bMT(23,18,"Address")),e.R7$(3),e.vxM(a.isInvalid("Address")?25:-1),e.R7$(3),e.JRh(e.bMT(29,20,"Phone")),e.R7$(3),e.vxM(a.isInvalid("Phone")?31:-1))},dependencies:[v.R,i.qT,i.me,i.BC,i.cb,M.t,S.V,i.j4,i.JD,_.QB,g.Sm,h.D9]})}return r})();var k=l(225);function he(r,d){1&r&&(e.j41(0,"p-message",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Area Name is required")," "))}function be(r,d){1&r&&(e.j41(0,"p-message",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Area Name is required")," "))}const ve=[{path:"general-setting",component:j},{path:"general-setting/add",component:$},{path:"general-setting/edit/:id",component:B},{path:"user",component:x},{path:"user/add",component:L},{path:"user/edit/:id",component:P},{path:"series",component:D},{path:"series/add",component:V},{path:"series/edit/:id",component:te},{path:"branch",component:re},{path:"branch/add",component:oe},{path:"branch/edit/:id",component:pe},{path:"area",component:(()=>{class r{_toastr;_areaService;cd;_router;_activateRoute;dataSource=[];selectedRow=[];columnsSchema=[{key:"Name",label:"Area Name"}];dataList;constructor(s,t,a,n,o){this._toastr=s,this._areaService=t,this.cd=a,this._router=n,this._activateRoute=o}ngOnInit(){this.areaList()}areaList(){this._areaService.getAreaList().subscribe({next:s=>{this.dataSource=s,this.cd.detectChanges()},error:s=>{console.error("Error getting area data",s)}})}navigateToEdit(s){s?.Id&&this._router.navigate(["edit",s.Id],{relativeTo:this._activateRoute})}onSelectedRows(s){this.selectedRow=s}deleteSelected(s){const t=s.map(a=>this._areaService.deleteArea(a.Id));(0,I.p)(t).pipe((0,R.j)(()=>this.areaList())).subscribe({next:()=>{this._toastr.success("Area deleted successfully"),this.selectedRow=[],this.dataList.clearSelection(),this.cd.detectChanges()},error:a=>{this._toastr.error("Error deleting area")}})}static \u0275fac=function(t){return new(t||r)(e.rXU(p.tw),e.rXU(k.x),e.rXU(e.gRc),e.rXU(c.Ix),e.rXU(c.nX))};static \u0275cmp=e.VBU({type:r,selectors:[["app-area-list"]],viewQuery:function(t,a){if(1&t&&e.GBs(b.q,5),2&t){let n;e.mGM(n=e.lsd())&&(a.dataList=n.first)}},decls:2,vars:2,consts:[[3,"selectedRows","rowClick","onDelete","dataSource","columnsSchema"]],template:function(t,a){1&t&&(e.j41(0,"app-data-list",0),e.bIt("selectedRows",function(o){return a.onSelectedRows(o)})("rowClick",function(o){return a.navigateToEdit(o)})("onDelete",function(o){return a.deleteSelected(o)}),e.k0s(),e.nrm(1,"router-outlet")),2&t&&e.Y8G("dataSource",a.dataSource)("columnsSchema",a.columnsSchema)},dependencies:[c.n3,b.q]})}return r})()},{path:"area/add",component:(()=>{class r{_areaService;_toastr;_destroyRef;data;errorMessage="";form=new i.gE({Name:new i.MJ("",[i.k0.required])});constructor(s,t,a){this._areaService=s,this._toastr=t,this._destroyRef=a}ngOnInit(){this.form.valueChanges.pipe((0,m.pQ)(this._destroyRef)).subscribe()}createArea(){this.form.valid&&this._areaService.createArea({Name:this.form.value.Name||""}).pipe((0,m.pQ)(this._destroyRef)).subscribe({next:t=>{this.data=t,this.form.reset(),this._toastr.success("Area created successfully")},error:t=>{this.errorMessage=t.message,this._toastr.error("Failed to create area")}})}isInvalid(s){const t=this.form.get(s);return t?.invalid&&t.touched}static \u0275fac=function(t){return new(t||r)(e.rXU(k.x),e.rXU(p.tw),e.rXU(e.abz))};static \u0275cmp=e.VBU({type:r,selectors:[["app-area-add"]],decls:13,vars:7,consts:[[3,"ngSubmit","formGroup"],[1,"d-flex","align-items-center","mb-3"],[3,"reset","isSaveDisabled","showSelected"],[1,"card","p-3"],[1,"container-fluid","mx-4"],[1,"row"],[1,"col-md-6"],["for","AreaName",1,"mb-2","d-block"],["pInputText","","type","text","id","AreaName","formControlName","Name",1,"w-100","mb-2"],["severity","error","size","small","variant","simple",1,"text-danger"]],template:function(t,a){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return a.createArea()}),e.j41(1,"div",1)(2,"app-submit-btns",2),e.bIt("reset",function(){return a.form.reset()}),e.k0s()(),e.j41(3,"div",3),e.nrm(4,"app-breadcrump"),e.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",8),e.DNE(12,he,3,3,"p-message",9),e.k0s()()()()()),2&t&&(e.Y8G("formGroup",a.form),e.R7$(2),e.Y8G("isSaveDisabled",a.form.invalid)("showSelected",!1),e.R7$(7),e.JRh(e.bMT(10,5,"Area Name")),e.R7$(3),e.vxM(a.isInvalid("Name")?12:-1))},dependencies:[v.R,i.qT,i.me,i.BC,i.cb,S.V,i.j4,i.JD,_.QB,g.Sm,h.D9]})}return r})()},{path:"area/edit/:id",component:(()=>{class r{_areaService;_toastr;_destroyRef;_activateRoute;_router;_location;data;errorMessage="";areaId;form=new i.gE({Name:new i.MJ("",[i.k0.required])});constructor(s,t,a,n,o,C){this._areaService=s,this._toastr=t,this._destroyRef=a,this._activateRoute=n,this._router=o,this._location=C}ngOnInit(){this.areaId=Number(this._activateRoute.snapshot.paramMap.get("id")||""),this.areaId&&this.areaById(this.areaId),this.form.valueChanges.pipe((0,m.pQ)(this._destroyRef)).subscribe()}areaById(s){this._areaService.getAreaById(s).pipe((0,m.pQ)(this._destroyRef)).subscribe({next:t=>{this.data=t,this.form.patchValue({Name:this.data.Name})},error:t=>{this.errorMessage=t.message,this._toastr.error(this.errorMessage)}})}updateArea(){this.form.valid&&this._areaService.updateArea(this.areaId,{Id:this.areaId,Name:this.form.value.Name||""}).pipe((0,m.pQ)(this._destroyRef)).subscribe({next:t=>{this.data=t,this.form.reset(),this.backAfterEdit(),this._toastr.success("Area updated successfully")},error:t=>{this.errorMessage=t.message,this._toastr.error("Failed to update Area")}})}isInvalid(s){const t=this.form.get(s);return t?.invalid&&t.touched}backAfterEdit(){const s=this._location.path(),t=s.indexOf("/area");if(-1!==t){const a=s.substring(0,t+5);this._router.navigate([a])}else this._router.navigate(["/"])}navigateToCreate(){this._router.navigate(["../../add"],{relativeTo:this._activateRoute})}static \u0275fac=function(t){return new(t||r)(e.rXU(k.x),e.rXU(p.tw),e.rXU(e.abz),e.rXU(c.nX),e.rXU(c.Ix),e.rXU(f.aZ))};static \u0275cmp=e.VBU({type:r,selectors:[["app-area-edit"]],decls:14,vars:10,consts:[[3,"ngSubmit","formGroup"],[1,"d-flex","align-items-center"],[3,"onAdd","showAdd","showPrint","showDelete"],[3,"reset","isSaveDisabled","showSelected"],[1,"card","p-3","mt-3"],[1,"container-fluid","mx-4"],[1,"row"],[1,"col-md-6"],["for","AreaName",1,"mb-2","d-block"],["pInputText","","type","text","id","AreaName","formControlName","Name",1,"w-100","mb-2"],["severity","error","size","small","variant","simple",1,"text-danger"]],template:function(t,a){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return a.updateArea()}),e.j41(1,"div",1)(2,"app-action-btns",2),e.bIt("onAdd",function(){return a.navigateToCreate()}),e.k0s(),e.j41(3,"app-submit-btns",3),e.bIt("reset",function(){return a.form.reset()}),e.k0s()(),e.j41(4,"div",4),e.nrm(5,"app-breadcrump"),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"input",9),e.DNE(13,be,3,3,"p-message",10),e.k0s()()()()()),2&t&&(e.Y8G("formGroup",a.form),e.R7$(2),e.Y8G("showAdd",!0)("showPrint",!0)("showDelete",!1),e.R7$(),e.Y8G("isSaveDisabled",a.form.invalid)("showSelected",!1),e.R7$(7),e.JRh(e.bMT(11,8,"Area Name")),e.R7$(3),e.vxM(a.isInvalid("Name")?13:-1))},dependencies:[v.R,i.qT,i.me,i.BC,i.cb,M.t,S.V,i.j4,i.JD,_.QB,g.Sm,h.D9]})}return r})()}];let Se=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({imports:[c.iI.forChild(ve),c.iI]})}return r})();var _e=l(6176),ge=l(1802);let Ce=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({imports:[f.MD,Se,_e.G,E.a,ge.YI]})}return r})()}}]);