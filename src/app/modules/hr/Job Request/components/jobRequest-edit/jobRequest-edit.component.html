<form [formGroup]="form" (ngSubmit)="updateJobRequest()">

  <app-submit-btns [isSaveDisabled]="form.invalid" [showSelected]="false" (reset)="form.reset()">
  </app-submit-btns>


  <div class="card p-3">
    <!--<app-breadcrump></app-breadcrump> -->
    <div class="container-fluid mx-4">
      <div class="row">
        <div class="col-md-4">
          <label for="DepartmentList" class="mb-2 d-block">{{'Department Name' | translate}}</label>
          <app-auto-complete class="w-100 mb-2" [data]="DepartmentList" [displayField]="['Id', 'Name']"
            [searchFields]="['Id', 'Name']" [valueField]="'Id'" [lookupData]="DepartmentList"
            formControlName="DepartmentId" [readonly]="false"
            [validStyle]="isInvalid('DepartmentId') ? 'ng-invalid' : ''">
          </app-auto-complete>

          @if (isInvalid('DepartmentId')) {
          <p-message severity="error" class="text-danger" size="small" variant="simple">
            {{'Department is required' | translate}}
          </p-message>
          }
        </div>

        <div class="col-md-4">
          <label for="JobTitleList" class="mb-2 d-block">{{'JobT itle' | translate}}</label>
          <app-auto-complete class="w-100 mb-2" [data]="JobTitleList" [displayField]="['Id', 'Title']"
            [searchFields]="['Id', 'Title']" [valueField]="'Id'" [lookupData]="JobTitleList"
            formControlName="JobTitleId" [readonly]="false" [validStyle]="isInvalid('JobTitleId') ? 'ng-invalid' : ''">
          </app-auto-complete>

          @if (isInvalid('JobTitleId')) {
          <p-message severity="error" class="text-danger" size="small" variant="simple">
            {{'Job Title is required' | translate}}
          </p-message>
          }
        </div>

        <div class="col-md-4">
          <label for="NeededPositions" class="mb-2 d-block">{{'Needed Positions' | translate}}</label>
          <input pInputText type="text" id="NeededPositions" formControlName="NeededPositions" class="w-100 mb-2" />
          @if (isInvalid('NeededPositions')) {
          <p-message severity="error" class="text-danger" size="small" variant="simple">
            {{ 'Needed Positions is required' | translate}}
          </p-message>
          }
        </div>

        <div class="col-md-12">
          <label for="JobDescription" class="mb-2 d-block">{{'Job Description' | translate}}</label>
          <input pInputText type="text" id="JobDescription" formControlName="JobDescription" class="w-100 mb-2" />
          @if (isInvalid('JobDescription')) {
          <p-message severity="error" class="text-danger" size="small" variant="simple">
            {{ 'Job Description is required' | translate}}
          </p-message>
          }
        </div>
      </div>
    </div>
  </div>
</form>