<!--begin::Wrapper-->
<div data-kt-search-element="wrapper">
  <!--begin::Form-->
  <form
    data-kt-search-element="form"
    class="w-100 position-relative mb-3"
    autocomplete="off"
  >
    <!--begin::Icon-->
    <app-keenicon
      name="magnifier"
      class="fs-2 fs-lg-1 text-gray-500 position-absolute top-50 translate-middle-y ms-0"
    ></app-keenicon>
    <!--end::Icon-->

    <!--begin::Input-->
    <input
      type="text"
      class="form-control form-control-flush ps-10"
      name="search"
      placeholder="Search..."
      [ngModel]="keyword"
      (ngModelChange)="search($event)"
    />
    <!--end::Input-->

    <!--begin::Spinner-->
    <span
      class="position-absolute top-50 end-0 translate-middle-y lh-0 me-1"
      [ngClass]="searching ? '' : 'd-none'"
    >
      <span
        class="spinner-border h-15px w-15px align-middle text-gray-500"
      ></span>
    </span>
    <!--end::Spinner-->

    <!--begin::Reset-->
    <span
      class="btn btn-flush btn-active-color-primary position-absolute top-50 end-0 translate-middle-y lh-0"
      [ngClass]="searching || keyword.length === 0 ? 'd-none' : ''"
      (click)="clearSearch()"
    >
      <app-keenicon name="cross" class="fs-2 fs-lg-1 me-0"></app-keenicon>
    </span>
    <!--end::Reset-->
  </form>
  <!--end::Form-->

  <div class="separator border-gray-200 mb-6"></div>

  <!--begin::Search results-->
  <div [ngClass]="searching || keyword.length === 0 ? 'd-none' : ''">
    <div class="scroll-y mh-200px mh-lg-325px">
      <h3 class="fs-5 text-muted m-0 pb-5">Search Results</h3>

      <!-- ðŸ”¹ Show results including SubMenus -->
      <a
        role="button"
        *ngFor="let item of resultModels"
        class="d-flex text-gray-900 text-hover-primary align-items-center mb-4"
        (click)="navigateTo(item)"
      >
        <!-- Symbol -->
        <div class="symbol symbol-40px me-4">
          <img *ngIf="item.image" [src]="item.image" alt="" />
          <span *ngIf="item.icon" class="symbol-label bg-light">
            <span
              [inlineSVG]="item.icon"
              class="svg-icon fs-2 text-primary"
            ></span>
          </span>
        </div>

        <!-- Title + description -->
        <div class="d-flex flex-column justify-content-start fw-bold">
          <!-- ðŸ‘‡ Add subtle indent if it's a submenu -->
          <span
            class="fs-6 fw-bold"
            [ngStyle]="{
              'margin-left.px': item.title.includes('>') ? 10 : 0
            }"
          >
            {{ item.title }}
          </span>
          <span class="fs-7 fw-bold text-muted">
            {{ item.description }}
          </span>
        </div>
      </a>

      <!-- No results -->
      <div *ngIf="resultModels.length === 0 && !searching" class="text-muted">
        No results found.
      </div>
    </div>
  </div>
  <!--end::Search results-->

  <!--begin::Recently viewed-->
  <div [ngClass]="keyword.length > 0 ? 'd-none' : ''">
    <div class="scroll-y mh-200px mh-lg-325px">
      <h3 class="fs-5 text-muted m-0 pb-5">Recently Searched</h3>

      <a
        href="#"
        *ngFor="let item of recentlySearchedModels"
        class="d-flex text-gray-900 text-hover-primary align-items-center mb-5"
      >
        <div class="symbol symbol-40px me-4">
          <img *ngIf="item.image" [src]="item.image" alt="" />
          <span *ngIf="item.icon" class="symbol-label bg-light">
            <span
              [inlineSVG]="item.icon"
              class="svg-icon fs-2 text-primary"
            ></span>
          </span>
        </div>

        <div class="d-flex flex-column justify-content-start fw-bold">
          <span class="fs-6 fw-bold">{{ item.title }}</span>
          <span class="fs-7 fw-bold text-muted">{{ item.description }}</span>
        </div>
      </a>
    </div>
  </div>
  <!--end::Recently viewed-->
</div>
<!--end::Wrapper-->
 <!--yy-->
